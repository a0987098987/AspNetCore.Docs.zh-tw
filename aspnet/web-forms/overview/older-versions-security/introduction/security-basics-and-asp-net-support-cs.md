---
uid: web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-cs
title: 安全性基本概念和 ASP.NET 支援 (C#) |Microsoft Docs
author: rick-anderson
description: 這是一系列教學課程會探索技術驗證訪客透過 web 表單，授與參與存取權的第一個教學課程...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/13/2008
ms.topic: article
ms.assetid: 07e15538-2f29-40c6-b2e7-e6115075ac83
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-cs
msc.type: authoredcontent
ms.openlocfilehash: cbc2da996726c6e1d838624726e7323ba947ce1e
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/03/2018
ms.locfileid: "37374846"
---
<a name="security-basics-and-aspnet-support-c"></a><span data-ttu-id="585c9-103">安全性基本概念和 ASP.NET 支援 (C#)</span><span class="sxs-lookup"><span data-stu-id="585c9-103">Security Basics and ASP.NET Support (C#)</span></span>
====================
<span data-ttu-id="585c9-104">藉由[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="585c9-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="585c9-105">下載 PDF</span><span class="sxs-lookup"><span data-stu-id="585c9-105">Download PDF</span></span>](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial01_Basics_cs.pdf)

> <span data-ttu-id="585c9-106">這是一系列將探索驗證透過 web 表單的訪客、 授權存取特定頁面和功能，以及管理 ASP.NET 應用程式中的使用者帳戶的技術的教學課程的第一個教學課程。</span><span class="sxs-lookup"><span data-stu-id="585c9-106">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span>


## <a name="introduction"></a><span data-ttu-id="585c9-107">簡介</span><span class="sxs-lookup"><span data-stu-id="585c9-107">Introduction</span></span>

<span data-ttu-id="585c9-108">什麼是一件事論壇、 電子商務網站、 線上電子郵件網站、 入口網站和社交網路網站都有共通？</span><span class="sxs-lookup"><span data-stu-id="585c9-108">What is the one thing forums, eCommerce sites, online email websites, portal websites, and social network sites all have in common?</span></span> <span data-ttu-id="585c9-109">它們都提供*使用者帳戶*。</span><span class="sxs-lookup"><span data-stu-id="585c9-109">They all offer *user accounts*.</span></span> <span data-ttu-id="585c9-110">提供使用者帳戶的網站必須提供許多服務。</span><span class="sxs-lookup"><span data-stu-id="585c9-110">Sites that offer user accounts must provide a number of services.</span></span> <span data-ttu-id="585c9-111">至少必須要能夠建立帳戶的新訪客人數，並傳回訪客必須要能夠登入。</span><span class="sxs-lookup"><span data-stu-id="585c9-111">At a minimum, new visitors need to be able to create an account and returning visitors must be able to log in.</span></span> <span data-ttu-id="585c9-112">這類的 web 應用程式進行登入的使用者為基礎的決策： 某些頁面或動作可能會限制為只有登入使用者，或使用者子集其他頁面可能會顯示資訊特定登入的使用者，或者可能會增加或減少顯示的詳細資訊，取決於哪些使用者在檢視頁面。</span><span class="sxs-lookup"><span data-stu-id="585c9-112">Such web applications can make decisions based on the logged in user: some pages or actions might be restricted to only logged in users, or to a certain subset of users; other pages might show information specific to the logged in user, or might show more or less information, depending on what user is viewing the page.</span></span>

<span data-ttu-id="585c9-113">這是一系列將探索驗證透過 web 表單的訪客、 授權存取特定頁面和功能，以及管理 ASP.NET 應用程式中的使用者帳戶的技術的教學課程的第一個教學課程。</span><span class="sxs-lookup"><span data-stu-id="585c9-113">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span> <span data-ttu-id="585c9-114">這些教學課程期間，我們會檢驗如何：</span><span class="sxs-lookup"><span data-stu-id="585c9-114">Over the course of these tutorials we will examine how to:</span></span>

- <span data-ttu-id="585c9-115">找出並讓使用者登入的網站</span><span class="sxs-lookup"><span data-stu-id="585c9-115">Identify and log users in to a website</span></span>
- <span data-ttu-id="585c9-116">使用 ASP。NET 的成員資格架構來管理使用者帳戶</span><span class="sxs-lookup"><span data-stu-id="585c9-116">Use ASP.NET's Membership framework to manage user accounts</span></span>
- <span data-ttu-id="585c9-117">建立、 更新和刪除使用者帳戶</span><span class="sxs-lookup"><span data-stu-id="585c9-117">Create, update, and delete user accounts</span></span>
- <span data-ttu-id="585c9-118">限制存取網頁、 目錄或特定登入的使用者為基礎的功能</span><span class="sxs-lookup"><span data-stu-id="585c9-118">Limit access to a web page, directory, or specific functionality based on the logged in user</span></span>
- <span data-ttu-id="585c9-119">使用 ASP。NET 的角色架構，來與角色產生關聯的使用者帳戶</span><span class="sxs-lookup"><span data-stu-id="585c9-119">Use ASP.NET's Roles framework to associate user accounts with roles</span></span>
- <span data-ttu-id="585c9-120">管理使用者角色</span><span class="sxs-lookup"><span data-stu-id="585c9-120">Manage user roles</span></span>
- <span data-ttu-id="585c9-121">限制存取網頁、 目錄或特定登入的使用者角色為基礎的功能</span><span class="sxs-lookup"><span data-stu-id="585c9-121">Limit access to a web page, directory, or specific functionality based on the logged in user's role</span></span>
- <span data-ttu-id="585c9-122">自訂並擴充 ASP。NET 的安全 Web 控制項</span><span class="sxs-lookup"><span data-stu-id="585c9-122">Customize and extend ASP.NET's security Web controls</span></span>

<span data-ttu-id="585c9-123">這些教學課程都被為了很簡潔，並提供足夠的螢幕擷取畫面的逐步指示，可逐步引導您完成此程序以視覺化方式而定。</span><span class="sxs-lookup"><span data-stu-id="585c9-123">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="585c9-124">每個教學課程適用於 C# 和 Visual Basic 版本，而且包含的下載時，使用完整的程式碼。</span><span class="sxs-lookup"><span data-stu-id="585c9-124">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span> <span data-ttu-id="585c9-125">（此第一個教學課程著重於安全性概念，從高階觀點來看的而且因此不包含任何相關聯的程式碼）。</span><span class="sxs-lookup"><span data-stu-id="585c9-125">(This first tutorial focuses on security concepts from a high-level viewpoint and therefore does not contain any associated code.)</span></span>

<span data-ttu-id="585c9-126">在本教學課程中，我們將討論重要的安全性概念，以及哪些功能可在 ASP.NET 中以協助實作表單驗證、 授權、 使用者帳戶和角色。</span><span class="sxs-lookup"><span data-stu-id="585c9-126">In this tutorial we will discuss important security concepts and what facilities are available in ASP.NET to assist in implementing forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="585c9-127">讓我們開始吧 ！</span><span class="sxs-lookup"><span data-stu-id="585c9-127">Let's get started!</span></span>

> [!NOTE]
> <span data-ttu-id="585c9-128">安全性是很重要的層面跨越實體、 技術、 任何應用程式和原則決策，而且需要較高程度的規劃和網域知識。</span><span class="sxs-lookup"><span data-stu-id="585c9-128">Security is an important aspect of any application that spans physical, technological, and policy decisions and requires a high degree of planning and domain knowledge.</span></span> <span data-ttu-id="585c9-129">本教學課程系列不是作為指南來開發安全的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="585c9-129">This tutorial series is not intended as a guide for developing secure web applications.</span></span> <span data-ttu-id="585c9-130">相反地，它特別著重於表單驗證、 授權、 使用者帳戶和角色。</span><span class="sxs-lookup"><span data-stu-id="585c9-130">Rather, it focuses specifically on forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="585c9-131">在這一系列討論上方解決這些問題的一些安全性概念，而其他項目會保留未探索。</span><span class="sxs-lookup"><span data-stu-id="585c9-131">While some security concepts revolving around these issues are discussed in this series, others are left unexplored.</span></span>


## <a name="authentication-authorization-user-accounts-and-roles"></a><span data-ttu-id="585c9-132">驗證、 授權、 使用者帳戶和角色</span><span class="sxs-lookup"><span data-stu-id="585c9-132">Authentication, Authorization, User Accounts, and Roles</span></span>

<span data-ttu-id="585c9-133">驗證、 授權、 使用者帳戶和角色是四個將用於經常在此教學課程系列，因此我想要快速花定義這些詞彙的 web 安全性內容中的條款。</span><span class="sxs-lookup"><span data-stu-id="585c9-133">Authentication, authorization, user accounts, and roles are four terms that will be used very often throughout this tutorial series, so I'd like to take a quick moment to define these terms within the context of web security.</span></span> <span data-ttu-id="585c9-134">在用戶端-伺服器模式下，例如網際網路，有許多案例中的伺服器需要識別提出要求的用戶端。</span><span class="sxs-lookup"><span data-stu-id="585c9-134">In a client-server model, such as the Internet, there are many scenarios in which the server needs to identify the client making the request.</span></span> <span data-ttu-id="585c9-135">*驗證*是查明用戶端的身分識別的程序。</span><span class="sxs-lookup"><span data-stu-id="585c9-135">*Authentication* is the process of ascertaining the client's identity.</span></span> <span data-ttu-id="585c9-136">已成功識別出的用戶端即所謂*驗證*。</span><span class="sxs-lookup"><span data-stu-id="585c9-136">A client who has been successfully identified is said to be *authenticated*.</span></span> <span data-ttu-id="585c9-137">無法辨識的用戶端即所謂*未經驗證*或是*匿名*。</span><span class="sxs-lookup"><span data-stu-id="585c9-137">An unidentified client is said to be *unauthenticated* or *anonymous*.</span></span>

<span data-ttu-id="585c9-138">安全的驗證系統涉及下列三個 facet 中至少一個：[您知道的東西、 有項目方法，或您](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html)。</span><span class="sxs-lookup"><span data-stu-id="585c9-138">Secure authentication systems involve at least one of the following three facets: [something you know, something you have, or something you are](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html).</span></span> <span data-ttu-id="585c9-139">大部分的 web 應用程式需要知道用戶端，例如密碼或 PIN 的項目。</span><span class="sxs-lookup"><span data-stu-id="585c9-139">Most web applications rely on something the client knows, such as a password or a PIN.</span></span> <span data-ttu-id="585c9-140">用來識別使用者-她的使用者名稱和密碼，例如-的資訊指*認證*。</span><span class="sxs-lookup"><span data-stu-id="585c9-140">The information used to identify a user - her username and password, for example - are referred to as *credentials*.</span></span> <span data-ttu-id="585c9-141">本教學課程系列著重*表單驗證*，這是其中的使用者登入網站藉由提供他們網頁表單中的認證驗證模型。</span><span class="sxs-lookup"><span data-stu-id="585c9-141">This tutorial series focuses on *forms authentication*, which is an authentication model where users log in to the site by providing their credentials in a web page form.</span></span> <span data-ttu-id="585c9-142">所有遇到這種驗證之前。</span><span class="sxs-lookup"><span data-stu-id="585c9-142">We have all experienced this type of authentication before.</span></span> <span data-ttu-id="585c9-143">移至任何電子商務網站。</span><span class="sxs-lookup"><span data-stu-id="585c9-143">Go to any eCommerce site.</span></span> <span data-ttu-id="585c9-144">當您準備好要簽出時系統會要求您登入，在文字方塊輸入您的使用者名稱和密碼，在網頁上。</span><span class="sxs-lookup"><span data-stu-id="585c9-144">When you are ready to check out you are asked to log in by entering your username and password into textboxes on a web page.</span></span>

<span data-ttu-id="585c9-145">除了找出用戶端，伺服器可能需要限制哪些資源或功能會根據提出要求的用戶端可存取。</span><span class="sxs-lookup"><span data-stu-id="585c9-145">In addition to identifying clients, a server may need to limit what resources or functionalities are accessible depending on the client making the request.</span></span> <span data-ttu-id="585c9-146">*授權*是決定特定的使用者是否有權存取特定資源或功能的程序。</span><span class="sxs-lookup"><span data-stu-id="585c9-146">*Authorization* is the process of determining whether a particular user has the authority to access a specific resource or functionality.</span></span>

<span data-ttu-id="585c9-147">A*使用者帳戶*是特定使用者的相關資訊保存存放區。</span><span class="sxs-lookup"><span data-stu-id="585c9-147">A *user account* is a store for persisting information about a particular user.</span></span> <span data-ttu-id="585c9-148">使用者帳戶至少必須包含唯一識別使用者，例如使用者的登入名稱和密碼的資訊。</span><span class="sxs-lookup"><span data-stu-id="585c9-148">User accounts must minimally include information that uniquely identifies the user, such as the user's login name and password.</span></span> <span data-ttu-id="585c9-149">此基本資訊，以及使用者帳戶可能包含像是： 使用者的電子郵件地址;日期和時間建立帳戶;使用者上次登入; 的時間與日期第一個和最後一個名稱;電話號碼;和郵寄地址。</span><span class="sxs-lookup"><span data-stu-id="585c9-149">Along with this essential information, user accounts may include things like: the user's email address; the date and time the account was created; the date and time they last logged in; first and last name; phone number; and mailing address.</span></span> <span data-ttu-id="585c9-150">使用表單驗證時，使用者帳戶資訊通常會儲存在 Microsoft SQL Server 等關聯式資料庫。</span><span class="sxs-lookup"><span data-stu-id="585c9-150">When using forms authentication, user account information is typically stored in a relational database like Microsoft SQL Server.</span></span>

<span data-ttu-id="585c9-151">支援使用者帳戶的 web 應用程式可能會選擇性地分組到的使用者*角色*。</span><span class="sxs-lookup"><span data-stu-id="585c9-151">Web applications that support user accounts may optionally group users into *roles*.</span></span> <span data-ttu-id="585c9-152">角色是只會套用至使用者，並提供定義授權規則和頁面層級功能的抽象概念的標籤。</span><span class="sxs-lookup"><span data-stu-id="585c9-152">A role is simply a label that is applied to a user and provides an abstraction for defining authorization rules and page-level functionality.</span></span> <span data-ttu-id="585c9-153">例如，網站可能包含禁止存取一組特定網頁的系統管理員以外的任何人的授權規則與系統管理員角色。</span><span class="sxs-lookup"><span data-stu-id="585c9-153">For example, a website might include an Administrator role with authorization rules that prohibit anyone but an Administrator to access a particular set of web pages.</span></span> <span data-ttu-id="585c9-154">此外，各種不同的 （包括非系統管理員） 的所有使用者都都可以存取的頁面可能會顯示其他資料，或提供額外的功能，當系統管理員角色中的使用者瀏覽。</span><span class="sxs-lookup"><span data-stu-id="585c9-154">Moreover, a variety of pages that are accessible to all users (including non-Administrators) might display additional data or offer extra functionality when visited by users in the Administrators role.</span></span> <span data-ttu-id="585c9-155">使用角色時，我們可以在角色的角色為基礎，而不是在使用者的使用者定義這些授權規則。</span><span class="sxs-lookup"><span data-stu-id="585c9-155">Using roles, we can define these authorization rules on a role-by-role basis rather than user-by-user.</span></span>

## <a name="authenticating-users-in-an-aspnet-application"></a><span data-ttu-id="585c9-156">驗證的 ASP.NET 應用程式中的使用者</span><span class="sxs-lookup"><span data-stu-id="585c9-156">Authenticating Users in an ASP.NET Application</span></span>

<span data-ttu-id="585c9-157">當使用者將 URL 輸入瀏覽器的位址視窗或按下的連結時，可讓瀏覽器[都會使用超文字傳輸通訊協定 (HTTP)](http://en.wikipedia.org/wiki/HTTP)要求到 web 伺服器指定的內容，不論是 ASP.NET 頁面上，映像時，JavaScript檔案或任何其他類型的內容。</span><span class="sxs-lookup"><span data-stu-id="585c9-157">When a user enters a URL into their browser's address window or clicks on a link, the browser makes a [Hypertext Transfer Protocol (HTTP)](http://en.wikipedia.org/wiki/HTTP) request to the web server for the specified content, be it an ASP.NET page, an image, a JavaScript file, or any other type of content.</span></span> <span data-ttu-id="585c9-158">Web 伺服器被負責傳回要求的內容。</span><span class="sxs-lookup"><span data-stu-id="585c9-158">The web server is tasked with returning the requested content.</span></span> <span data-ttu-id="585c9-159">在此情況下，它必須決定要求，包括進行要求的人員，以及識別是否獲得授權來擷取要求的內容相關的項目的數目。</span><span class="sxs-lookup"><span data-stu-id="585c9-159">In doing so, it must determine a number of things about the request, including who made the request and whether the identity is authorized to retrieve the requested content.</span></span>

<span data-ttu-id="585c9-160">根據預設，瀏覽器會傳送 HTTP 要求沒有任何類型的識別資訊。</span><span class="sxs-lookup"><span data-stu-id="585c9-160">By default, browsers send HTTP requests that lack any sort of identification information.</span></span> <span data-ttu-id="585c9-161">但是，如果瀏覽器並包含驗證資訊的網頁伺服器啟動驗證工作流程，會嘗試識別提出要求的用戶端。</span><span class="sxs-lookup"><span data-stu-id="585c9-161">But if the browser does include authentication information then the web server starts the authentication workflow, which attempts to identify the client making the request.</span></span> <span data-ttu-id="585c9-162">驗證工作流程的步驟取決於 web 應用程式正在使用的驗證類型。</span><span class="sxs-lookup"><span data-stu-id="585c9-162">The steps of the authentication workflow depend on the type of authentication being used by the web application.</span></span> <span data-ttu-id="585c9-163">ASP.NET 支援三種驗證類型： Windows、 Passport 和表單。</span><span class="sxs-lookup"><span data-stu-id="585c9-163">ASP.NET supports three types of authentication: Windows, Passport, and forms.</span></span> <span data-ttu-id="585c9-164">本教學課程系列的重點在於表單驗證，但讓我們花點時間比較和對照 Windows 驗證的使用者存放區和工作流程。</span><span class="sxs-lookup"><span data-stu-id="585c9-164">This tutorial series focuses on forms authentication, but let's take a minute to compare and contrast Windows authentication user stores and workflow.</span></span>

### <a name="authentication-via-windows-authentication"></a><span data-ttu-id="585c9-165">透過 Windows 驗證進行驗證</span><span class="sxs-lookup"><span data-stu-id="585c9-165">Authentication via Windows Authentication</span></span>

<span data-ttu-id="585c9-166">Windows 驗證工作流程會使用下列的驗證技術之一：</span><span class="sxs-lookup"><span data-stu-id="585c9-166">The Windows authentication workflow uses one of the following authentication techniques:</span></span>

- <span data-ttu-id="585c9-167">基本驗證</span><span class="sxs-lookup"><span data-stu-id="585c9-167">Basic authentication</span></span>
- <span data-ttu-id="585c9-168">摘要式驗證</span><span class="sxs-lookup"><span data-stu-id="585c9-168">Digest authentication</span></span>
- <span data-ttu-id="585c9-169">Windows 整合式的驗證</span><span class="sxs-lookup"><span data-stu-id="585c9-169">Windows Integrated Authentication</span></span>

<span data-ttu-id="585c9-170">這三項技術運作方式大致相同： 當未經授權，匿名要求抵達時，web 伺服器會傳回 HTTP 回應，指出該授權，才能繼續。</span><span class="sxs-lookup"><span data-stu-id="585c9-170">All three techniques work in roughly the same way: when an unauthorized, anonymous request arrives, the web server sends back an HTTP response that indicates that authorization is required to continue.</span></span> <span data-ttu-id="585c9-171">瀏覽器，然後顯示強制回應對話方塊，提示使用者輸入其使用者名稱和密碼 （請參閱 圖 1）。</span><span class="sxs-lookup"><span data-stu-id="585c9-171">The browser then displays a modal dialog box that prompts the user for their username and password (see Figure 1).</span></span> <span data-ttu-id="585c9-172">這項資訊接著會傳送至 web 伺服器透過 HTTP 標頭。</span><span class="sxs-lookup"><span data-stu-id="585c9-172">This information is then sent back to the web server via an HTTP header.</span></span>


![強制回應對話方塊會提示使用者輸入其認證](security-basics-and-asp-net-support-cs/_static/image1.png)

<span data-ttu-id="585c9-174">**圖 1**： 強制回應對話方塊會提示使用者輸入其認證</span><span class="sxs-lookup"><span data-stu-id="585c9-174">**Figure 1**: A Modal Dialog Box Prompts the User for His Credentials</span></span>


<span data-ttu-id="585c9-175">提供的認證會驗證對 web 伺服器的 Windows 使用者存放區。</span><span class="sxs-lookup"><span data-stu-id="585c9-175">The supplied credentials are validated against the web server's Windows User Store.</span></span> <span data-ttu-id="585c9-176">這表示 web 應用程式中每個已驗證的使用者必須有您組織中的 Windows 帳戶。</span><span class="sxs-lookup"><span data-stu-id="585c9-176">This means that each authenticated user in your web application must have a Windows account in your organization.</span></span> <span data-ttu-id="585c9-177">這是在內部網路案例中的老生常談。</span><span class="sxs-lookup"><span data-stu-id="585c9-177">This is commonplace in intranet scenarios.</span></span> <span data-ttu-id="585c9-178">事實上，當使用 Windows 整合式驗證，在內部網路設定中，瀏覽器會自動提供 web 伺服器與用來登入網路，藉此隱藏 [圖 1] 所示的對話方塊中的認證。</span><span class="sxs-lookup"><span data-stu-id="585c9-178">In fact, when using Windows Integrated Authentication in an intranet setting, the browser automatically provides the web server with the credentials used to log on to the network, thereby suppressing the dialog box shown in Figure 1.</span></span> <span data-ttu-id="585c9-179">Windows 驗證適合內部網路應用程式時，它是通常不可行的網際網路應用程式因為您不會想要建立註冊您的站台的每個使用者的 Windows 帳戶。</span><span class="sxs-lookup"><span data-stu-id="585c9-179">While Windows authentication is great for intranet applications, it is usually unfeasible for Internet applications since you do not want to create Windows accounts for each and every user who signs up at your site.</span></span>

### <a name="authentication-via-forms-authentication"></a><span data-ttu-id="585c9-180">透過表單驗證的驗證</span><span class="sxs-lookup"><span data-stu-id="585c9-180">Authentication via Forms Authentication</span></span>

<span data-ttu-id="585c9-181">表單驗證，相反地，適合用於網際網路的 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="585c9-181">Forms authentication, on the other hand, is ideal for Internet web applications.</span></span> <span data-ttu-id="585c9-182">提醒您，表單驗證會識別使用者，提示他們輸入其認證，透過 web 表單。</span><span class="sxs-lookup"><span data-stu-id="585c9-182">Recall that forms authentication identifies the user by prompting them to enter their credentials through a web form.</span></span> <span data-ttu-id="585c9-183">因此，當使用者嘗試存取未經授權的資源，它們會自動重新導向至可輸入其認證登入頁面。</span><span class="sxs-lookup"><span data-stu-id="585c9-183">Consequently, when a user attempts to access an unauthorized resource, they are automatically redirected to the login page where they can enter their credentials.</span></span> <span data-ttu-id="585c9-184">提交的認證經過驗證對自訂使用者存放區-通常是資料庫。</span><span class="sxs-lookup"><span data-stu-id="585c9-184">The submitted credentials are then validated against a custom user store - usually a database.</span></span>

<span data-ttu-id="585c9-185">確認已提交的認證之後,*表單驗證票證*建立使用者。</span><span class="sxs-lookup"><span data-stu-id="585c9-185">After verifying the submitted credentials, a *forms authentication ticket* is created for the user.</span></span> <span data-ttu-id="585c9-186">此票證會指示使用者已經驗證，且包含身分識別資訊，例如使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="585c9-186">This ticket indicates that the user has been authenticated and includes identifying information, such as the username.</span></span> <span data-ttu-id="585c9-187">表單驗證票證 （通常） 會儲存為用戶端電腦上的 cookie 中。</span><span class="sxs-lookup"><span data-stu-id="585c9-187">The forms authentication ticket is (typically) stored as a cookie on the client computer.</span></span> <span data-ttu-id="585c9-188">因此，後續造訪網站會在 HTTP 要求中，藉此讓 web 應用程式，來識別使用者，他們必須登入之後，包含表單驗證票證。</span><span class="sxs-lookup"><span data-stu-id="585c9-188">Therefore, subsequent visits to the website include the forms authentication ticket in the HTTP request, thereby enabling the web application to identify the user once they have logged in.</span></span>

<span data-ttu-id="585c9-189">[圖 2] 說明高階的有利點的表單驗證工作流程。</span><span class="sxs-lookup"><span data-stu-id="585c9-189">Figure 2 illustrates the forms authentication workflow from a high-level vantage point.</span></span> <span data-ttu-id="585c9-190">請注意如何在 ASP.NET 中的驗證和授權項目作為兩個不同的實體。</span><span class="sxs-lookup"><span data-stu-id="585c9-190">Notice how the authentication and authorization pieces in ASP.NET act as two separate entities.</span></span> <span data-ttu-id="585c9-191">表單驗證系統來識別的使用者 （或報表是匿名）。</span><span class="sxs-lookup"><span data-stu-id="585c9-191">The forms authentication system identifies the user (or reports that they are anonymous).</span></span> <span data-ttu-id="585c9-192">授權系統可決定使用者是否具有要求之資源的存取。</span><span class="sxs-lookup"><span data-stu-id="585c9-192">The authorization system is what determines whether the user has access to the requested resource.</span></span> <span data-ttu-id="585c9-193">如果使用者是未經授權 （因為它們是圖 2 中，當您嘗試以匿名方式瀏覽 ProtectedPage.aspx 時），授權系統會報告遭到拒絕的使用者，使表單驗證系統會自動將使用者重新導向至登入頁面。</span><span class="sxs-lookup"><span data-stu-id="585c9-193">If the user is unauthorized (as they are in Figure 2 when attempting to anonymously visit ProtectedPage.aspx), the authorization system reports that the user is denied, causing the forms authentication system to automatically redirect the user to the login page.</span></span>

<span data-ttu-id="585c9-194">使用者已成功登入之後，後續的 HTTP 要求包含表單驗證票證。</span><span class="sxs-lookup"><span data-stu-id="585c9-194">Once the user has successfully logged in, subsequent HTTP requests include the forms authentication ticket.</span></span> <span data-ttu-id="585c9-195">表單驗證系統只會識別使用者-它會決定使用者是否可以存取所要求的資源的授權系統。</span><span class="sxs-lookup"><span data-stu-id="585c9-195">The forms authentication system merely identifies the user - it is the authorization system that determines whether the user can access the requested resource.</span></span>


![表單驗證工作流程](security-basics-and-asp-net-support-cs/_static/image2.png)

<span data-ttu-id="585c9-197">**圖 2**： 表單驗證工作流程</span><span class="sxs-lookup"><span data-stu-id="585c9-197">**Figure 2**: The Forms Authentication Workflow</span></span>


<span data-ttu-id="585c9-198">我們將會更詳細的表單驗證，在下面兩個教學課程中，深入探究[的表單驗證概觀](an-overview-of-forms-authentication-cs.md)並[表單驗證組態和進階主題](forms-authentication-configuration-and-advanced-topics-cs.md)。</span><span class="sxs-lookup"><span data-stu-id="585c9-198">We will dig into forms authentication in much greater detail in the next two tutorials,[An Overview of Forms Authentication](an-overview-of-forms-authentication-cs.md) and [Forms Authentication Configuration and Advanced Topics](forms-authentication-configuration-and-advanced-topics-cs.md).</span></span> <span data-ttu-id="585c9-199">如需有關 ASP。NET 的驗證選項，請參閱[ASP.NET 驗證](https://msdn.microsoft.com/library/eeyk640h.aspx)。</span><span class="sxs-lookup"><span data-stu-id="585c9-199">For more on ASP.NET's authentication options, see [ASP.NET Authentication](https://msdn.microsoft.com/library/eeyk640h.aspx).</span></span>

## <a name="limiting-access-to-web-pages-directories-and-page-functionality"></a><span data-ttu-id="585c9-200">限制存取的網頁、 目錄和頁面功能</span><span class="sxs-lookup"><span data-stu-id="585c9-200">Limiting Access to Web Pages, Directories, and Page Functionality</span></span>

<span data-ttu-id="585c9-201">ASP.NET 包含兩種方式可判斷特定使用者是否具有特定檔案或目錄的存取權限：</span><span class="sxs-lookup"><span data-stu-id="585c9-201">ASP.NET includes two ways to determine whether a particular user has authority to access a specific file or directory:</span></span>

- <span data-ttu-id="585c9-202">**檔案授權**-由於 ASP.NET 網頁和 web 服務會實作為透過存取控制清單 (Acl) 來指定位於 web 伺服器的檔案系統，這些檔案的存取權的檔案。</span><span class="sxs-lookup"><span data-stu-id="585c9-202">**File authorization** - since ASP.NET pages and web services are implemented as files that reside on the web server's file system, access to these files can be specified through Access Control Lists (ACLs).</span></span> <span data-ttu-id="585c9-203">檔案授權通常會用於使用 Windows 驗證，因為設定的 Acl 會套用到 Windows 帳戶的權限。</span><span class="sxs-lookup"><span data-stu-id="585c9-203">File authorization is most commonly used with Windows authentication because ACLs are permissions that apply to Windows accounts.</span></span> <span data-ttu-id="585c9-204">使用表單驗證時，所有的作業系統和檔案系統層級要求會執行相同的 Windows 帳戶，無論使用者瀏覽的網站。</span><span class="sxs-lookup"><span data-stu-id="585c9-204">When using forms authentication, all operating system- and file system-level requests are executed by the same Windows account, regardless of the user visiting the site.</span></span>
- <span data-ttu-id="585c9-205">**URL 授權**-頁面開發人員使用 URL 授權時，在 Web.config 中指定授權規則。這些授權規則會指定使用者或角色允許存取還是遭到拒絕存取特定頁面或應用程式中的目錄。</span><span class="sxs-lookup"><span data-stu-id="585c9-205">**URL authorization**- with URL authorization, the page developer specifies authorization rules in Web.config. These authorization rules specify what users or roles are allowed to access or are denied from accessing certain pages or directories in the application.</span></span>

<span data-ttu-id="585c9-206">檔案授權和 URL 授權定義授權規則存取特定的 ASP.NET 頁面，或適用於所有的 ASP.NET 網頁特定目錄中。</span><span class="sxs-lookup"><span data-stu-id="585c9-206">File authorization and URL authorization define authorization rules for accessing a particular ASP.NET page or for all ASP.NET pages in a particular directory.</span></span> <span data-ttu-id="585c9-207">我們可以使用這些技術來指示 ASP.NET 要求特定的頁面，以特定的使用者，拒絕或允許存取一組使用者並拒絕其他所有人的存取。</span><span class="sxs-lookup"><span data-stu-id="585c9-207">Using these techniques we can instruct ASP.NET to deny requests to a particular page for a particular user, or allow access to a set of users and deny access to everyone else.</span></span> <span data-ttu-id="585c9-208">其中的所有使用者可以存取頁面上，但頁面的功能取決於使用者的情況呢？</span><span class="sxs-lookup"><span data-stu-id="585c9-208">What about scenarios where all of the users can access the page, but the page's functionality depends on the user?</span></span> <span data-ttu-id="585c9-209">比方說，許多支援使用者帳戶的站台會有這些頁面會顯示不同的內容或已驗證的使用者與匿名使用者的資料。</span><span class="sxs-lookup"><span data-stu-id="585c9-209">For example, many sites that support user accounts have pages that display different content or data for authenticated users versus anonymous users.</span></span> <span data-ttu-id="585c9-210">匿名使用者可能會看到登入網站的連結，已驗證的使用者會改為看到一則訊息像，歡迎回來，而*Username*以及登出的連結。另一個範例： 檢視項目在拍賣網站時您會看到不同的資訊，取決於您是否效勞或拍賣項目。</span><span class="sxs-lookup"><span data-stu-id="585c9-210">An anonymous user might see a link to log in to the site, whereas an authenticated user would instead see a message like, Welcome back, *Username* along with a link to log out. Another example: when viewing an item at an auction site you see different information depending on whether you are a bidder or the one auctioning the item.</span></span>

<span data-ttu-id="585c9-211">以宣告方式或以程式設計方式，就可以完成這類頁面層級調整。</span><span class="sxs-lookup"><span data-stu-id="585c9-211">Such page-level adjustments can be accomplished declaratively or programmatically.</span></span> <span data-ttu-id="585c9-212">若要顯示不同的內容，針對已驗證的使用者，只要拖曳比匿名[LoginView 控制項](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx)拖曳到頁面然後其 AnonymousTemplate 和 LoggedInTemplate 範本中輸入適當的內容。</span><span class="sxs-lookup"><span data-stu-id="585c9-212">To show different content for anonymous than authenticated users, simply drag a [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) onto your page and enter the appropriate content into its AnonymousTemplate and LoggedInTemplate templates.</span></span> <span data-ttu-id="585c9-213">或者，您可以以程式設計方式判斷是否已驗證目前的要求，身為使用者，以及哪些角色所屬 （如果有的話）。</span><span class="sxs-lookup"><span data-stu-id="585c9-213">Alternatively, you can programmatically determine whether the current request is authenticated, who the user is, and what roles they belong to (if any).</span></span> <span data-ttu-id="585c9-214">您可以使用這項資訊，然後顯示或隱藏方格或面板頁面上的資料行。</span><span class="sxs-lookup"><span data-stu-id="585c9-214">You can use this information to then show or hide columns in a grid or Panels on the page.</span></span>

<span data-ttu-id="585c9-215">這一系列包含三個教學課程著重於授權。</span><span class="sxs-lookup"><span data-stu-id="585c9-215">This series includes three tutorials that focus on authorization.</span></span> <span data-ttu-id="585c9-216">***使用者為基礎的授權***檢驗如何限制存取特定的使用者帳戶; 頁面或在目錄中的頁面***角色型授權***會提供授權規則，在角色層級; 最後，查看***顯示目前已登入使用者的內容以***教學課程會探討修改特定頁面的內容和使用者瀏覽頁面為基礎的功能。</span><span class="sxs-lookup"><span data-stu-id="585c9-216">***User-Based Authorization***examines how to limit access to a page or pages in a directory for specific user accounts; ***Role-Based Authorization*** looks at supplying authorization rules at the role level; lastly, the ***Displaying Content Based on the Currently Logged In User*** tutorial explores modifying a particular page's content and functionality based on the user visiting the page.</span></span> <span data-ttu-id="585c9-217">如需有關 ASP。NET 的授權選項，請參閱[ASP.NET 授權](https://msdn.microsoft.com/library/wce3kxhd.aspx)。</span><span class="sxs-lookup"><span data-stu-id="585c9-217">For more on ASP.NET's authorization options, see [ASP.NET Authorization](https://msdn.microsoft.com/library/wce3kxhd.aspx).</span></span>


## <a name="user-accounts-and-roles"></a><span data-ttu-id="585c9-218">使用者帳戶和角色</span><span class="sxs-lookup"><span data-stu-id="585c9-218">User Accounts and Roles</span></span>

<span data-ttu-id="585c9-219">ASP。NET 的表單驗證提供的基礎結構，以便讓使用者登入網站，並將記憶跨網頁瀏覽其已驗證的狀態。</span><span class="sxs-lookup"><span data-stu-id="585c9-219">ASP.NET's forms authentication provides an infrastructure for users to log in to a site and have their authenticated state remembered across page visits.</span></span> <span data-ttu-id="585c9-220">和 URL 授權提供用來限制存取特定檔案或資料夾中的 ASP.NET 應用程式的架構。</span><span class="sxs-lookup"><span data-stu-id="585c9-220">And URL authorization offers a framework for limiting access to specific files or folders in an ASP.NET application.</span></span> <span data-ttu-id="585c9-221">兩項功能，不過，提供一種方式儲存的使用者帳戶資訊或管理角色。</span><span class="sxs-lookup"><span data-stu-id="585c9-221">Neither feature, however, supplies a means for storing user account information or managing roles.</span></span>

<span data-ttu-id="585c9-222">ASP.NET 2.0 中，開發人員之前，負責建立自己的使用者和角色存放區。</span><span class="sxs-lookup"><span data-stu-id="585c9-222">Prior to ASP.NET 2.0, developers were responsible for creating their own user and role stores.</span></span> <span data-ttu-id="585c9-223">它們也是在設計使用者介面，並撰寫程式碼不可或缺的使用者帳戶相關的網頁，例如登入頁面和頁面，即可建立新的帳戶，以及其他的勾點。</span><span class="sxs-lookup"><span data-stu-id="585c9-223">They were also on the hook for designing the user interfaces and writing the code for essential user account-related pages like the login page and the page to create a new account, among others.</span></span> <span data-ttu-id="585c9-224">沒有任何內建使用者帳戶架構在 ASP.NET 中，實作的使用者帳戶已到達在自己的設計決策的問題，例如，每位開發人員如何儲存密碼或其他機密資訊？並且何種方針應該我加上密碼長度和強度？</span><span class="sxs-lookup"><span data-stu-id="585c9-224">Without any built-in user account framework in ASP.NET, each developer implementing user accounts had to arrive at his own design decisions on questions like, How do I store passwords or other sensitive information? and What guidelines should I impose regarding password length and strength?</span></span>

<span data-ttu-id="585c9-225">現在，在 ASP.NET 應用程式中實作的使用者帳戶十分簡便*成員資格架構*和內建登入 Web 控制項。</span><span class="sxs-lookup"><span data-stu-id="585c9-225">Today, implementing user accounts in an ASP.NET application is much simpler thanks to the *Membership framework* and the built-in Login Web controls.</span></span> <span data-ttu-id="585c9-226">成員資格架構是少數幾個類別中[System.Web.Security 命名空間](https://msdn.microsoft.com/library/system.web.security.aspx)，提供功能來執行基本的使用者帳戶相關的工作。</span><span class="sxs-lookup"><span data-stu-id="585c9-226">The Membership framework is a handful of classes in the [System.Web.Security namespace](https://msdn.microsoft.com/library/system.web.security.aspx) that provide functionality for performing essential user account-related tasks.</span></span> <span data-ttu-id="585c9-227">在 成員資格架構中的索引鍵類別是[Membership 類別](https://msdn.microsoft.com/library/system.web.security.membership.aspx)，其具有類似的方法：</span><span class="sxs-lookup"><span data-stu-id="585c9-227">The key class in the Membership framework is the [Membership class](https://msdn.microsoft.com/library/system.web.security.membership.aspx), which has methods like:</span></span>

- <span data-ttu-id="585c9-228">CreateUser</span><span class="sxs-lookup"><span data-stu-id="585c9-228">CreateUser</span></span>
- <span data-ttu-id="585c9-229">DeleteUser</span><span class="sxs-lookup"><span data-stu-id="585c9-229">DeleteUser</span></span>
- <span data-ttu-id="585c9-230">GetAllUsers</span><span class="sxs-lookup"><span data-stu-id="585c9-230">GetAllUsers</span></span>
- <span data-ttu-id="585c9-231">GetUser</span><span class="sxs-lookup"><span data-stu-id="585c9-231">GetUser</span></span>
- <span data-ttu-id="585c9-232">UpdateUser</span><span class="sxs-lookup"><span data-stu-id="585c9-232">UpdateUser</span></span>
- <span data-ttu-id="585c9-233">ValidateUser</span><span class="sxs-lookup"><span data-stu-id="585c9-233">ValidateUser</span></span>

<span data-ttu-id="585c9-234">成員資格架構會使用[提供者模型](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)，其中清楚分隔成員資格架構的 API 從它的實作。</span><span class="sxs-lookup"><span data-stu-id="585c9-234">The Membership framework uses the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which cleanly separates the Membership framework's API from its implementation.</span></span> <span data-ttu-id="585c9-235">這可讓開發人員使用常見的 API，但可讓使用者使用實作符合其應用程式的自訂需求。</span><span class="sxs-lookup"><span data-stu-id="585c9-235">This enables developers to use a common API, but empowers them to use an implementation that meets their application's custom needs.</span></span> <span data-ttu-id="585c9-236">簡單地說，Membership 類別定義 （方法、 屬性和事件），framework 的基本功能，但實際上不會提供任何實作詳細資料。</span><span class="sxs-lookup"><span data-stu-id="585c9-236">In short, the Membership class defines the essential functionality of the framework (the methods, properties, and events), but does not actually supply any implementation details.</span></span> <span data-ttu-id="585c9-237">相反地，成員資格類別的方法叫用已設定的提供者，它會執行實際工作。</span><span class="sxs-lookup"><span data-stu-id="585c9-237">Instead, the methods of the Membership class invoke the configured provider, which is what performs the actual work.</span></span> <span data-ttu-id="585c9-238">例如，叫用成員資格類別的 CreateUser 方法時，成員資格類別並不知道使用者存放區的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="585c9-238">For example, when the Membership class's CreateUser method is invoked, the Membership class doesn't know the details of the user store.</span></span> <span data-ttu-id="585c9-239">它並不知道是否資料庫或 XML 檔案或其他存放區，使用者會被保留。</span><span class="sxs-lookup"><span data-stu-id="585c9-239">It doesn't know if users are being maintained in a database or in an XML file or in some other store.</span></span> <span data-ttu-id="585c9-240">Membership 類別會檢查以判斷哪些提供者委派，呼叫的 web 應用程式的組態，該提供者類別會負責實際建立適當的使用者存放區中的 新的使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="585c9-240">The Membership class examines the web application's configuration to determine what provider to delegate the call to, and that provider class is responsible for actually creating the new user account in the appropriate user store.</span></span> <span data-ttu-id="585c9-241">圖 3 說明這種互動。</span><span class="sxs-lookup"><span data-stu-id="585c9-241">This interaction is illustrated in Figure 3.</span></span>

<span data-ttu-id="585c9-242">Microsoft.NET Framework 中提供兩個成員資格提供者類別：</span><span class="sxs-lookup"><span data-stu-id="585c9-242">Microsoft ships two Membership provider classes in the .NET Framework:</span></span>

- <span data-ttu-id="585c9-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) -實作成員資格 API，在 Active Directory 和 Active Directory Application Mode (ADAM) 的伺服器。</span><span class="sxs-lookup"><span data-stu-id="585c9-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) - implements the Membership API in Active Directory and Active Directory Application Mode (ADAM) servers.</span></span>
- <span data-ttu-id="585c9-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) -SQL Server 資料庫中實作成員資格 API。</span><span class="sxs-lookup"><span data-stu-id="585c9-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) - implements the Membership API in a SQL Server database.</span></span>

<span data-ttu-id="585c9-245">本教學課程系列專門著重於 SqlMembershipProvider。</span><span class="sxs-lookup"><span data-stu-id="585c9-245">This tutorial series focuses exclusively on the SqlMembershipProvider.</span></span>


<span data-ttu-id="585c9-246">[![提供者模型可讓不同的實作是順暢地插入到 Framework&lt;/ strong>&gt;](security-basics-and-asp-net-support-cs/_static/image4.png)](security-basics-and-asp-net-support-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="585c9-246">[![The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework&lt;/strong&gt;](security-basics-and-asp-net-support-cs/_static/image4.png)](security-basics-and-asp-net-support-cs/_static/image3.png)</span></span>

<span data-ttu-id="585c9-247">**圖 03**: 提供者模型可讓不同的實作是順暢地插入到的架構 ([按一下以檢視完整大小的影像](security-basics-and-asp-net-support-cs/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="585c9-247">**Figure 03**: The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework ([Click to view full-size image](security-basics-and-asp-net-support-cs/_static/image5.png))</span></span>


<span data-ttu-id="585c9-248">提供者模型的優點是可以由 Microsoft、 協力廠商或個別的開發人員開發替代的實作，並順暢地插入成員資格架構。</span><span class="sxs-lookup"><span data-stu-id="585c9-248">The benefit of the provider model is that alternative implementations can be developed by Microsoft, third-party vendors, or individual developers and seamlessly plugged into the Membership framework.</span></span> <span data-ttu-id="585c9-249">例如，Microsoft 已發行[的成員資格提供者，針對 Microsoft Access 資料庫](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi)。</span><span class="sxs-lookup"><span data-stu-id="585c9-249">For example, Microsoft has released [a Membership provider for Microsoft Access databases](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span></span> <span data-ttu-id="585c9-250">如需有關成員資格提供者的詳細資訊，請參閱[提供者工具組](https://msdn.microsoft.com/asp.net/aa336558.aspx)，其中包含的成員資格提供者範例自訂提供者、 超過 100 個頁面上提供者模型中，文件的逐步解說，完成原始碼的內建成員資格提供者 （也就是 ActiveDirectoryMembershipProvider 和 SqlMembershipProvider）。</span><span class="sxs-lookup"><span data-stu-id="585c9-250">For more information on the Membership providers, refer to the [Provider Toolkit](https://msdn.microsoft.com/asp.net/aa336558.aspx), which includes a walkthrough of the Membership providers, sample custom providers, over 100 pages of documentation on the provider model, and the complete source code for the built-in Membership providers (namely, ActiveDirectoryMembershipProvider and SqlMembershipProvider).</span></span>

<span data-ttu-id="585c9-251">ASP.NET 2.0 也引進了角色架構。</span><span class="sxs-lookup"><span data-stu-id="585c9-251">ASP.NET 2.0 also introduced the Roles framework.</span></span> <span data-ttu-id="585c9-252">成員資格架構，像是角色 framework 是建置在提供者模型之上。</span><span class="sxs-lookup"><span data-stu-id="585c9-252">Like the Membership framework, the Roles framework is built atop the provider model.</span></span> <span data-ttu-id="585c9-253">其 API 可透過公開[Roles 類別](https://msdn.microsoft.com/library/system.web.security.roles.aspx)和.NET Framework 隨附三個提供者類別：</span><span class="sxs-lookup"><span data-stu-id="585c9-253">Its API is exposed via the [Roles class](https://msdn.microsoft.com/library/system.web.security.roles.aspx) and the .NET Framework ships with three provider classes:</span></span>

- <span data-ttu-id="585c9-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) -管理授權管理員原則存放區，例如 Active Directory 或 ADAM 中的角色資訊。</span><span class="sxs-lookup"><span data-stu-id="585c9-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) - manages role information in an authorization-manager policy store, such as Active Directory or ADAM.</span></span>
- <span data-ttu-id="585c9-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) -實作 SQL Server 資料庫中的角色。</span><span class="sxs-lookup"><span data-stu-id="585c9-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) - implements roles in a SQL Server database.</span></span>
- <span data-ttu-id="585c9-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) -將訪客的 Windows 群組為基礎的角色資訊。</span><span class="sxs-lookup"><span data-stu-id="585c9-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) - associates role information based on the visitor's Windows group.</span></span> <span data-ttu-id="585c9-257">這個方法通常是使用 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="585c9-257">This method is typically used with Windows authentication.</span></span>

<span data-ttu-id="585c9-258">本教學課程系列專門著重於 SqlRoleProvider。</span><span class="sxs-lookup"><span data-stu-id="585c9-258">This tutorial series focuses exclusively on the SqlRoleProvider.</span></span>

<span data-ttu-id="585c9-259">因為提供者模型會包含單一的前方 API （成員資格與角色類別），就可以建置該 API 功能，而不必擔心的實作詳細資料-這些都由頁面所選取的提供者開發人員。</span><span class="sxs-lookup"><span data-stu-id="585c9-259">Since the provider model includes a single forward-facing API (the Membership and Roles classes), it is possible to build functionality around that API without having to worry about the implementation details - those are handled by the providers selected by the page developer.</span></span> <span data-ttu-id="585c9-260">此統一的 API 可讓 Microsoft 和協力廠商提供，該介面的成員資格與角色架構建置 Web 控制項。</span><span class="sxs-lookup"><span data-stu-id="585c9-260">This unified API allows for Microsoft and third-party vendors to build Web controls that interface with the Membership and Roles frameworks.</span></span> <span data-ttu-id="585c9-261">ASP.NET 隨附許多[登入 Web 控制項](https://msdn.microsoft.com/library/ms178329.aspx)實作常見的使用者帳戶的使用者介面。</span><span class="sxs-lookup"><span data-stu-id="585c9-261">ASP.NET ships with a number of [Login Web controls](https://msdn.microsoft.com/library/ms178329.aspx) for implementing common user account user interfaces.</span></span> <span data-ttu-id="585c9-262">例如，[登入控制項](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx)提示使用者輸入其認證，驗證它們，並再記錄中透過表單驗證。</span><span class="sxs-lookup"><span data-stu-id="585c9-262">For example, the [Login control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx) prompts a user for their credentials, validates them, and then logs them in via forms authentication.</span></span> <span data-ttu-id="585c9-263">[LoginView 控制項](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx)提供範本，來顯示不同的標記，以匿名使用者與已驗證的使用者或不同的標記，根據使用者的角色。</span><span class="sxs-lookup"><span data-stu-id="585c9-263">The [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) offers templates for displaying different markup to anonymous users versus authenticated users, or different markup based on the user's role.</span></span> <span data-ttu-id="585c9-264">而[CreateUserWizard 控制項](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx)提供逐步的使用者介面來建立新的使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="585c9-264">And the [CreateUserWizard control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx) provides a step-by-step user interface for creating a new user account.</span></span>

<span data-ttu-id="585c9-265">基本上與成員資格與角色架構的各種登入控制項進行互動。</span><span class="sxs-lookup"><span data-stu-id="585c9-265">Underneath the covers the various Login controls interact with the Membership and Roles frameworks.</span></span> <span data-ttu-id="585c9-266">可以實作大部分的登入控制項，而不需要撰寫一行程式碼。</span><span class="sxs-lookup"><span data-stu-id="585c9-266">Most Login controls can be implemented without having to write a single line of code.</span></span> <span data-ttu-id="585c9-267">我們將檢視這些控制項，更詳細地在未來的教學課程，包括延伸與自訂其功能的技術。</span><span class="sxs-lookup"><span data-stu-id="585c9-267">We will examine these controls in greater detail in future tutorials, including techniques for extending and customizing their functionality.</span></span>

## <a name="summary"></a><span data-ttu-id="585c9-268">總結</span><span class="sxs-lookup"><span data-stu-id="585c9-268">Summary</span></span>

<span data-ttu-id="585c9-269">支援使用者帳戶的所有 web 應用程式都需要類似的功能，例如： 可讓使用者登入，然後在跨網頁瀏覽; 記憶的狀態有其記錄檔若要建立帳戶; 新增訪客 web 網頁以及若要指定哪些使用者或角色可以使用哪些資源、 資料和功能的網頁開發人員的能力。</span><span class="sxs-lookup"><span data-stu-id="585c9-269">All web applications that support user accounts require similar features, such as: the ability for users to log in and have their log in status remembered across page visits; a web page for new visitors to create an account; and the ability to the page developer to specify what resource, data, and functionality are available to what users or roles.</span></span> <span data-ttu-id="585c9-270">進行驗證和授權使用者，以及管理使用者帳戶和角色的工作是由於表單驗證、 URL 授權和成員資格與角色架構的 ASP.NET 應用程式中完成要容易得多。</span><span class="sxs-lookup"><span data-stu-id="585c9-270">The tasks of authenticating and authorizing users and of managing user accounts and roles is remarkably easy to accomplish in ASP.NET applications thanks to forms authentication, URL authorization, and the Membership and Roles frameworks.</span></span>

<span data-ttu-id="585c9-271">下一步 的數個教學課程的課程中，我們將檢視這些層面藉由以逐步方式建置全新的工作 web 應用程式。</span><span class="sxs-lookup"><span data-stu-id="585c9-271">Over the course of the next several tutorials we will examine these aspects by building a working web application from the ground up in a step-by-step fashion.</span></span> <span data-ttu-id="585c9-272">在下面兩個教學課程中，我們將探討在詳細資料中的表單驗證。</span><span class="sxs-lookup"><span data-stu-id="585c9-272">In the next two tutorial we will explore forms authentication in detail.</span></span> <span data-ttu-id="585c9-273">我們會看到-表單驗證工作流程，在動作中，會仔細剖析表單驗證票證、 討論的安全性考量，並了解如何設定表單驗證系統同時建置 web 應用程式，可以讓登入和登出的訪客。</span><span class="sxs-lookup"><span data-stu-id="585c9-273">We will see the forms authentication workflow in action, dissect the forms authentication ticket, discuss security concerns, and see how to configure the forms authentication system - all while building a web application that allows visitors to log in and log out.</span></span>

<span data-ttu-id="585c9-274">快樂地寫程式 ！</span><span class="sxs-lookup"><span data-stu-id="585c9-274">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="585c9-275">進一步閱讀</span><span class="sxs-lookup"><span data-stu-id="585c9-275">Further Reading</span></span>

<span data-ttu-id="585c9-276">如需有關在本教學課程所討論的主題的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="585c9-276">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="585c9-277">ASP.NET 2.0 成員資格、 角色、 表單驗證和安全性資源</span><span class="sxs-lookup"><span data-stu-id="585c9-277">ASP.NET 2.0 Membership, Roles, Forms Authentication, and Security Resources</span></span>](https://weblogs.asp.net/scottgu/ASP.NET-2.0-Membership_2C00_-Roles_2C00_-Forms-Authentication_2C00_-and-Security-Resources-)
- [<span data-ttu-id="585c9-278">ASP.NET 2.0 安全性指導方針</span><span class="sxs-lookup"><span data-stu-id="585c9-278">ASP.NET 2.0 Security Guidelines</span></span>](https://msdn.microsoft.com/library/ms998258.aspx)
- [<span data-ttu-id="585c9-279">ASP.NET 驗證</span><span class="sxs-lookup"><span data-stu-id="585c9-279">ASP.NET Authentication</span></span>](https://msdn.microsoft.com/library/eeyk640h.aspx)
- [<span data-ttu-id="585c9-280">ASP.NET 授權</span><span class="sxs-lookup"><span data-stu-id="585c9-280">ASP.NET Authorization</span></span>](https://msdn.microsoft.com/library/wce3kxhd.aspx)
- [<span data-ttu-id="585c9-281">ASP.NET 登入控制項概觀</span><span class="sxs-lookup"><span data-stu-id="585c9-281">ASP.NET Login Controls Overview</span></span>](https://msdn.microsoft.com/library/ms178329.aspx)
- [<span data-ttu-id="585c9-282">檢查 ASP.NET 2.0 的成員資格、 角色和設定檔</span><span class="sxs-lookup"><span data-stu-id="585c9-282">Examining ASP.NET 2.0's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="585c9-283">I： 如何保護我的網站使用成員資格和角色？</span><span class="sxs-lookup"><span data-stu-id="585c9-283">How Do I: Secure My Site Using Membership and Roles?</span></span>](https://asp.net/learn/videos/video-45.aspx) <span data-ttu-id="585c9-284">（影片）</span><span class="sxs-lookup"><span data-stu-id="585c9-284">(Video)</span></span>
- [<span data-ttu-id="585c9-285">成員資格簡介</span><span class="sxs-lookup"><span data-stu-id="585c9-285">Introduction to Membership</span></span>](https://msdn.microsoft.com/library/yh26yfzy.aspx)
- [<span data-ttu-id="585c9-286">MSDN Security Developer Center</span><span class="sxs-lookup"><span data-stu-id="585c9-286">MSDN Security Developer Center</span></span>](https://msdn.microsoft.com/security/default.aspx)
- <span data-ttu-id="585c9-287">[Professional ASP.NET 2.0 安全性、 成員資格和角色管理](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html)(ISBN: 978-0-7645-9698-8)</span><span class="sxs-lookup"><span data-stu-id="585c9-287">[Professional ASP.NET 2.0 Security, Membership, and Role Management](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span></span>
- [<span data-ttu-id="585c9-288">提供者工具組</span><span class="sxs-lookup"><span data-stu-id="585c9-288">Provider Toolkit</span></span>](https://msdn.microsoft.com/asp.net/aa336558.aspx)

## <a name="about-the-author"></a><span data-ttu-id="585c9-289">關於作者</span><span class="sxs-lookup"><span data-stu-id="585c9-289">About the Author</span></span>

<span data-ttu-id="585c9-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，作者的七個 ASP 書籍和的創辦人[4GuysFromRolla.com](http://www.4guysfromrolla.com)，自 1998 年從事 Microsoft Web 技術工作。</span><span class="sxs-lookup"><span data-stu-id="585c9-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="585c9-291">Scott 會擔任獨立的顧問、 培訓講師和作家。</span><span class="sxs-lookup"><span data-stu-id="585c9-291">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="585c9-292">他最新的著作是[ *Sams 教導您自己 ASP.NET 2.0 在 24 小時內*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="585c9-292">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="585c9-293">他可以在觸達[ mitchell@4GuysFromRolla.com。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="585c9-293">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="585c9-294">或透過他的部落格，這位於[ http://ScottOnWriting.NET ](http://ScottOnWriting.NET)。</span><span class="sxs-lookup"><span data-stu-id="585c9-294">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="585c9-295">特別感謝</span><span class="sxs-lookup"><span data-stu-id="585c9-295">Special Thanks To</span></span>

<span data-ttu-id="585c9-296">本教學課程系列是由許多實用的檢閱者檢閱。</span><span class="sxs-lookup"><span data-stu-id="585c9-296">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="585c9-297">潛在客戶的檢閱者，在本教學課程是系列由許多實用的檢閱者檢閱本教學課程。</span><span class="sxs-lookup"><span data-stu-id="585c9-297">Lead reviewer for this tutorial was This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="585c9-298">本教學課程中的潛在客戶檢閱者包括 Alicja Maziarz、 John Suru 和 Teresa murphy 徹底檢驗了。</span><span class="sxs-lookup"><span data-stu-id="585c9-298">Lead reviewers for this tutorial include Alicja Maziarz, John Suru, and Teresa Murphy.</span></span> <span data-ttu-id="585c9-299">有興趣檢閱我即將推出的 MSDN 文章嗎？</span><span class="sxs-lookup"><span data-stu-id="585c9-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="585c9-300">如果是這樣，psychic 在[ mitchell@4GuysFromRolla.com。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="585c9-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="585c9-301">下一步</span><span class="sxs-lookup"><span data-stu-id="585c9-301">Next</span></span>](an-overview-of-forms-authentication-cs.md)
