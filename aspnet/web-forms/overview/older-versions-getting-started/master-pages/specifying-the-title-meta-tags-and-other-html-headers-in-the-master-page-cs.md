---
uid: web-forms/overview/older-versions-getting-started/master-pages/specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs
title: 指定標題、 中繼標籤及其他 HTML 標頭主版頁面 (C#) |Microsoft Docs
author: rick-anderson
description: 查看定義各種不同的技術&lt;head&gt;主版頁面，從 [內容] 頁面中的項目。
ms.author: riande
ms.date: 05/21/2008
ms.assetid: 0aa1c84f-c9e2-4699-b009-0e28643ecbc6
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs
msc.type: authoredcontent
ms.openlocfilehash: e3846ea696a1a5a29fd53d6753878fab9dd9a95d
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/16/2018
ms.locfileid: "41826844"
---
<a name="specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-c"></a><span data-ttu-id="3c1fc-103">指定標題、 中繼標籤及其他 HTML 標頭主版頁面 (C#)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-103">Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page (C#)</span></span>
====================
<span data-ttu-id="3c1fc-104">藉由[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="3c1fc-105">[下載程式碼](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_03_CS.zip)或[下載 PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_03_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-105">[Download Code](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_03_CS.zip) or [Download PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_03_CS.pdf)</span></span>

> <span data-ttu-id="3c1fc-106">查看定義各種不同的技術&lt;head&gt;主版頁面，從 [內容] 頁面中的項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-106">Looks at different techniques for defining assorted &lt;head&gt; elements in the Master Page from the content page.</span></span>


## <a name="introduction"></a><span data-ttu-id="3c1fc-107">簡介</span><span class="sxs-lookup"><span data-stu-id="3c1fc-107">Introduction</span></span>

<span data-ttu-id="3c1fc-108">已在 Visual Studio 2008 中建立新的主版頁面，根據預設，兩個 ContentPlaceHolder 控制項： 一個名為 head，且位於`<head>`項目，以及一個名為`ContentPlaceHolder1`、 放置 Web 表單中。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-108">New master pages created in Visual Studio 2008 have, by default, two ContentPlaceHolder controls: one named head, and located in the `<head>` element; and one named `ContentPlaceHolder1`, placed within the Web Form.</span></span> <span data-ttu-id="3c1fc-109">目的`ContentPlaceHolder1`是可以自訂頁面的頁面為基礎的 Web Form 中定義的區域。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-109">The purpose of `ContentPlaceHolder1` is to define a region in the Web Form that can be customized on a page-by-page basis.</span></span> <span data-ttu-id="3c1fc-110">`head` ContentPlaceHolder 可讓頁面以新增自訂內容`<head>`一節。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-110">The `head` ContentPlaceHolder enables pages to add custom content to the `<head>` section.</span></span> <span data-ttu-id="3c1fc-111">（當然，這些兩個 ContentPlaceHolders 可以修改或移除，而其他 ContentPlaceHolder 可能會加入主版頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-111">(Of course, these two ContentPlaceHolders can be modified or removed, and additional ContentPlaceHolder may be added to the master page.</span></span> <span data-ttu-id="3c1fc-112">我們的主版頁面， `Site.master`，目前有四個 ContentPlaceHolder 控制項。)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-112">Our master page, `Site.master`, currently has four ContentPlaceHolder controls.)</span></span>

<span data-ttu-id="3c1fc-113">HTML`<head>`項目做為網頁文件不包含在文件本身的相關資訊的存放庫。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-113">The HTML `<head>` element serves as a repository for information about the web page document that is not part of the document itself.</span></span> <span data-ttu-id="3c1fc-114">這包括資訊，例如 web 頁面的標題、 使用搜尋引擎或內部的編目程式，並連結至外部資源，例如 RSS 摘要、 JavaScript 和 CSS 檔案的中繼資訊。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-114">This includes information such as the web page's title, meta-information used by search engines or internal crawlers, and links to external resources, such as RSS feeds, JavaScript, and CSS files.</span></span> <span data-ttu-id="3c1fc-115">這項資訊的一些可能相關之網站中的所有頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-115">Some of this information may be pertinent to all pages in the website.</span></span> <span data-ttu-id="3c1fc-116">例如，您可能要全域匯入相同的 CSS 規則和每個 ASP.NET 網頁的 JavaScript 檔案。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-116">For example, you might want to globally import the same CSS rules and JavaScript files for every ASP.NET page.</span></span> <span data-ttu-id="3c1fc-117">不過，有部分`<head>`頁面特定的項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-117">However, there are portions of the `<head>` element that are page-specific.</span></span> <span data-ttu-id="3c1fc-118">頁面標題是最明顯的例子。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-118">The page title is a prime example.</span></span>

<span data-ttu-id="3c1fc-119">在本教學課程中我們將探討如何定義全域和頁面特定`<head>`區段標記中的主版頁面和其內容頁中。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-119">In this tutorial we examine how to define global and page-specific `<head>` section markup in the master page and in its content pages.</span></span>

## <a name="examining-the-master-pagesheadsection"></a><span data-ttu-id="3c1fc-120">檢查主版頁面的`<head>`區段</span><span class="sxs-lookup"><span data-stu-id="3c1fc-120">Examining the Master Page's`<head>`Section</span></span>

<span data-ttu-id="3c1fc-121">建立 Visual Studio 2008 的預設主版頁面檔案包含下列標記中的其`<head>`區段：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-121">The default master page file created by Visual Studio 2008 contains the following markup in its `<head>` section:</span></span>


[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample1.aspx)]

<span data-ttu-id="3c1fc-122">請注意，`<head>`項目包含`runat="server"`屬性，以指出它是伺服器控制項 （而非靜態的 HTML）。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-122">Notice that the `<head>` element contains a `runat="server"` attribute, which indicates that it is a server control (rather than static HTML).</span></span> <span data-ttu-id="3c1fc-123">所有的 ASP.NET 頁面衍生自[`Page`類別](https://msdn.microsoft.com/library/system.web.ui.page.aspx)，位於`System.Web.UI`命名空間。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-123">All ASP.NET pages derive from the [`Page` class](https://msdn.microsoft.com/library/system.web.ui.page.aspx), which is located in the `System.Web.UI` namespace.</span></span> <span data-ttu-id="3c1fc-124">這個類別包含`Header`屬性，可存取的頁面`<head>`區域。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-124">This class contains a `Header` property that provides access to the page's `<head>` region.</span></span> <span data-ttu-id="3c1fc-125">使用[`Header`屬性](https://msdn.microsoft.com/library/system.web.ui.page.header.aspx)我們可以設定 ASP.NET 網頁的標題，或將額外標記新增至呈現`<head>`一節。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-125">Using the [`Header` property](https://msdn.microsoft.com/library/system.web.ui.page.header.aspx) we can set an ASP.NET page's title or add additional markup to the rendered `<head>` section.</span></span> <span data-ttu-id="3c1fc-126">它是可行的然後自訂內容頁面`<head>`撰寫的程式碼，在頁面中的項目`Page_Load`事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-126">It is possible, then, to customize a content page's `<head>` element by writing a bit of code in the page's `Page_Load` event handler.</span></span> <span data-ttu-id="3c1fc-127">我們將探討如何以程式設計方式設定在步驟 1 中的 頁面的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-127">We examine how to programmatically set the page's title in Step 1.</span></span>

<span data-ttu-id="3c1fc-128">中所顯示的標記`<head>`上述的項目也包含名為標頭的 ContentPlaceHolder 控制項。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-128">The markup shown in the `<head>` element above also includes a ContentPlaceHolder control named head.</span></span> <span data-ttu-id="3c1fc-129">當內容頁面可以新增自訂內容，並非必要，這個 ContentPlaceHolder 控制項`<head>`項目以程式設計的方式。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-129">This ContentPlaceHolder control is not necessary, as content pages can add custom content to the `<head>` element programmatically.</span></span> <span data-ttu-id="3c1fc-130">很有用，不過，在何處靜態將標記新增至內容頁面的情況下`<head>`來對應內容控制項，而非以程式設計方式為靜態標記的項目也可以以宣告方式新增。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-130">It's useful, however, in situations where a content page needs to add static markup to the `<head>` element as the static markup can be added declaratively to the corresponding Content control rather than programmatically.</span></span>

<span data-ttu-id="3c1fc-131">除了`<title>`項目和 head ContentPlaceHolder，主版頁面的`<head>`項目應該包含任何`<head>`-通用於所有頁面的層級標記。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-131">In addition to the `<title>` element and head ContentPlaceHolder, the master page's `<head>` element should contain any `<head>`-level markup that's common to all pages.</span></span> <span data-ttu-id="3c1fc-132">在我們的網站所有頁面會都使用中定義的 CSS 規則`Styles.css`檔案。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-132">In our website, all pages use the CSS rules defined in the `Styles.css` file.</span></span> <span data-ttu-id="3c1fc-133">因此，我們已更新`<head>`中的項目[*使用主版頁面建立全網站的版面配置*](creating-a-site-wide-layout-using-master-pages-cs.md)教學課程，以包含對應`<link>`項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-133">Consequently, we updated the `<head>` element in the [*Creating a Site-Wide Layout with Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md) tutorial to include a corresponding `<link>` element.</span></span> <span data-ttu-id="3c1fc-134">我們`Site.master`主版頁面的目前`<head>`標記如下所示。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-134">Our `Site.master` master page's current `<head>` markup is shown below.</span></span>


[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample2.aspx)]

## <a name="step-1-setting-a-content-pages-title"></a><span data-ttu-id="3c1fc-135">步驟 1： 設定內容頁面的標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-135">Step 1: Setting a Content Page's Title</span></span>

<span data-ttu-id="3c1fc-136">網頁的標題，並透過指定`<title>`項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-136">The web page's title is specified via the `<title>` element.</span></span> <span data-ttu-id="3c1fc-137">請務必設定為適當值的每個頁面的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-137">It is important to set each page's title to an appropriate value.</span></span> <span data-ttu-id="3c1fc-138">當瀏覽的頁面，其標題會顯示在瀏覽器的標題列中。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-138">When visiting a page, its title is displayed in the browser's Title bar.</span></span> <span data-ttu-id="3c1fc-139">此外，書籤的頁面上，瀏覽器就會使用頁面的標題做為書籤的建議名稱。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-139">Additionally, when bookmarking a page, browsers use the page's title as the suggested name for the bookmark.</span></span> <span data-ttu-id="3c1fc-140">此外，許多搜尋引擎時顯示搜尋結果顯示頁面的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-140">Also, many search engines show the page's title when displaying search results.</span></span>

> [!NOTE]
> <span data-ttu-id="3c1fc-141">根據預設，Visual Studio 設定`<title>`"Untitled Page"的主版頁面中的項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-141">By default, Visual Studio sets the `<title>` element in the master page to "Untitled Page".</span></span> <span data-ttu-id="3c1fc-142">同樣地，新的 ASP.NET 網頁有其`<title>`太設為"Untitled Page"。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-142">Similarly, new ASP.NET pages have their `<title>` set to "Untitled Page", too.</span></span> <span data-ttu-id="3c1fc-143">有，因為它可能很容易忘了設定頁面的標題設為適當值，會將許多網頁位於數個標題為"Untitled Page"網際網路。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-143">Because it can be easy to forget to set the page's title to an appropriate value, there are many pages on the Internet with the title "Untitled Page".</span></span> <span data-ttu-id="3c1fc-144">具有此標題的網頁搜尋 Google 傳回大約 2,460,000 的結果。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-144">Searching Google for web pages with this title returns roughly 2,460,000 results.</span></span> <span data-ttu-id="3c1fc-145">Microsoft 也很容易發行的網頁標題為"Untitled Page"。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-145">Even Microsoft is susceptible to publishing web pages with the title "Untitled Page".</span></span> <span data-ttu-id="3c1fc-146">在撰寫本文時，Google 搜尋會報告這類 236 Microsoft.com 網域的 web 網頁。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-146">At the time of this writing, a Google search reported 236 such web pages in the Microsoft.com domain.</span></span>


<span data-ttu-id="3c1fc-147">ASP.NET 頁面可以指定其標題中的下列方法之一：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-147">An ASP.NET page can specify its title in one of the following ways:</span></span>

- <span data-ttu-id="3c1fc-148">將值直接內`<title>`項目</span><span class="sxs-lookup"><span data-stu-id="3c1fc-148">By placing the value directly within the `<title>` element</span></span>
- <span data-ttu-id="3c1fc-149">使用`Title`屬性中`<%@ Page %>`指示詞</span><span class="sxs-lookup"><span data-stu-id="3c1fc-149">Using the `Title` attribute in the `<%@ Page %>` directive</span></span>
- <span data-ttu-id="3c1fc-150">以程式設計方式設定頁面`Title`類似的程式碼的屬性`Page.Title="title"`或`Page.Header.Title="title"`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-150">Programmatically setting the page's `Title` property using code like `Page.Title="title"` or `Page.Header.Title="title"`.</span></span>

<span data-ttu-id="3c1fc-151">內容頁面沒有`<title>`元素，因為它主版頁面中定義。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-151">Content pages don't have a `<title>` element, as it's defined in the master page.</span></span> <span data-ttu-id="3c1fc-152">因此，若要設定內容頁面的標題您可以使用`<%@ Page %>`指示詞的`Title`屬性，或以程式設計方式設定它。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-152">Therefore, to set a content page's title you can either use the `<%@ Page %>` directive's `Title` attribute or set it programmatically.</span></span>

### <a name="setting-the-pages-title-declaratively"></a><span data-ttu-id="3c1fc-153">以宣告方式設定頁面的標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-153">Setting the Page's Title Declaratively</span></span>

<span data-ttu-id="3c1fc-154">透過以宣告方式設定內容頁面的標題`Title`的屬性[`<%@ Page %>`指示詞](https://msdn.microsoft.com/library/ydy4x04a.aspx)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-154">A content page's title can be set declaratively through the `Title` attribute of the [`<%@ Page %>` directive](https://msdn.microsoft.com/library/ydy4x04a.aspx).</span></span> <span data-ttu-id="3c1fc-155">會設定這個屬性，請直接修改`<%@ Page %>`指示詞，或透過 [屬性] 視窗。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-155">This property can be set by directly modifying the `<%@ Page %>` directive or through the Properties window.</span></span> <span data-ttu-id="3c1fc-156">讓我們看看這兩種方法。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-156">Let's look at both approaches.</span></span>

<span data-ttu-id="3c1fc-157">從原始碼 檢視中，找出`<%@ Page %>`指示詞，也就是在頁面的宣告式標記的頂端。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-157">From the Source view, locate the `<%@ Page %>` directive, which is at the top of the page's declarative markup.</span></span> <span data-ttu-id="3c1fc-158">`<%@ Page %>`指示詞`Default.aspx`遵循：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-158">The `<%@ Page %>` directive for `Default.aspx` follows:</span></span>


[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample3.aspx)]

<span data-ttu-id="3c1fc-159">`<%@ Page %>`指示詞會指定 ASP.NET 引擎剖析和編譯的頁面時所使用的網頁專用屬性。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-159">The `<%@ Page %>` directive specifies page-specific attributes used by the ASP.NET engine when parsing and compiling the page.</span></span> <span data-ttu-id="3c1fc-160">這包括其主版頁面檔案、 其程式碼檔案，以及其標題，以及其他資訊的位置。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-160">This includes its master page file, the location of its code file, and its title, among other information.</span></span>

<span data-ttu-id="3c1fc-161">根據預設，當建立新的內容頁面，Visual Studio 會將`Title`屬性設定為未命名頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-161">By default, when creating a new content page Visual Studio sets the `Title` attribute to Untitled Page.</span></span> <span data-ttu-id="3c1fc-162">變更`Default.aspx`的`Title`"Untitled page"屬性設定為 「 主版頁面教學課程 」，然後再檢視透過瀏覽器頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-162">Change `Default.aspx`'s `Title` attribute from "Untitled Page" to "Master Page Tutorials" and then view the page through a browser.</span></span> <span data-ttu-id="3c1fc-163">[圖 1] 顯示瀏覽器的標題列，會反映新的頁面標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-163">Figure 1 shows the browser's Title bar, which reflects the new page title.</span></span>


![瀏覽器的標題列現在會顯示&quot;主版頁面教學課程&quot;而不是&quot;未命名的頁面&quot;](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image1.png)

<span data-ttu-id="3c1fc-165">**圖 01**： 瀏覽器的標題列現在會顯示 「 主版頁面教學課程 」 而不是"Untitled Page"</span><span class="sxs-lookup"><span data-stu-id="3c1fc-165">**Figure 01**: The Browser's Title Bar Now Shows "Master Page Tutorials" Instead of "Untitled Page"</span></span>


<span data-ttu-id="3c1fc-166">從 [屬性] 視窗，可能也會設定頁面的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-166">The page's title may also be set from the Properties window.</span></span> <span data-ttu-id="3c1fc-167">從 [屬性] 視窗中，選取文件從下拉式清單中載入頁面層級屬性，其中包括`Title`屬性。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-167">From the Properties window, select DOCUMENT from the drop-down list to load the page-level properties, which includes the `Title` property.</span></span> <span data-ttu-id="3c1fc-168">[圖 2] 顯示之後的 [屬性] 視窗`Title`已設為 「 主版頁面教學課程 」。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-168">Figure 2 shows the Properties window after `Title` has been set to "Master Page Tutorials".</span></span>


![您也可以設定從 [屬性] 視窗的標題](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image2.png)

<span data-ttu-id="3c1fc-170">**圖 02**： 您也可以設定從 屬性 視窗的標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-170">**Figure 02**: You May Configure the Title from the Properties Window, Too</span></span>


### <a name="setting-the-pages-title-programmatically"></a><span data-ttu-id="3c1fc-171">以程式設計方式設定頁面的標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-171">Setting the Page's Title Programmatically</span></span>

<span data-ttu-id="3c1fc-172">主版頁面`<head runat="server">`標記會轉譯成[`HtmlHead`類別](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.aspx)ASP.NET 引擎所呈現的頁面時，執行個體。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-172">The master page's `<head runat="server">` markup is translated into an [`HtmlHead` class](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.aspx) instance when the page is rendered by the ASP.NET engine.</span></span> <span data-ttu-id="3c1fc-173">`HtmlHead`類別具有[`Title`屬性](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.title.aspx)其值會反映在轉譯`<title>`項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-173">The `HtmlHead` class has a [`Title` property](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlhead.title.aspx) whose value is reflected in the rendered `<title>` element.</span></span> <span data-ttu-id="3c1fc-174">這個屬性是從 ASP.NET 頁面的程式碼後置類別，透過存取`Page.Header.Title`; 此相同屬性也可以透過存取`Page.Title`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-174">This property is accessible from an ASP.NET page's code-behind class via `Page.Header.Title`; this same property can also be accessed via `Page.Title`.</span></span>

<span data-ttu-id="3c1fc-175">若要練習以程式設計方式設定頁面的標題，請瀏覽至`About.aspx`頁面的程式碼後置類別，並建立頁面的事件處理常式`Load`事件。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-175">To practice setting the page's title programmatically, navigate to the `About.aspx` page's code-behind class and create an event handler for the page's `Load` event.</span></span> <span data-ttu-id="3c1fc-176">接下來，設定頁面的標題為 「 主版頁面教學課程:: 相關::*日期*"，其中*日期*是目前的日期。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-176">Next, set the page's title to "Master Page Tutorials :: About :: *date*", where *date* is the current date.</span></span> <span data-ttu-id="3c1fc-177">新增此程式碼後您`Page_Load`事件處理常式看起來應該如下所示：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-177">After adding this code your `Page_Load` event handler should look similar to the following:</span></span>


[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample4.cs)]

<span data-ttu-id="3c1fc-178">圖 3 顯示瀏覽器的標題列，瀏覽時`About.aspx`頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-178">Figure 3 shows the browser's title bar when visiting the `About.aspx` page.</span></span>


![頁面的標題是以程式設計方式設定，並包含目前的日期](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image3.png)

<span data-ttu-id="3c1fc-180">**圖 03**: 頁面的標題是以程式設計方式設定，並包含目前的日期</span><span class="sxs-lookup"><span data-stu-id="3c1fc-180">**Figure 03**: The Page's Title is Programmatically Set and Includes the Current Date</span></span>


## <a name="step-2-automatically-assigning-a-page-title"></a><span data-ttu-id="3c1fc-181">步驟 2： 自動指派的頁面標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-181">Step 2: Automatically Assigning a Page Title</span></span>

<span data-ttu-id="3c1fc-182">如我們在步驟 1 中所見的就可以設定頁面的標題以宣告方式或以程式設計的方式。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-182">As we saw in Step 1, a page's title can be set declaratively or programmatically.</span></span> <span data-ttu-id="3c1fc-183">如果您忘記要明確變更為更具描述性的標題，不過，您的頁面會有預設的標題，"Untitled Page"。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-183">If you forget to explicitly change the title to something more descriptive, however, your page will have the default title, "Untitled Page".</span></span> <span data-ttu-id="3c1fc-184">在理想情況下，頁面的標題會自動設為我們，我們未明確指定其值。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-184">Ideally, the page's title would be set automatically for us in the event that we don't explicitly specify its value.</span></span> <span data-ttu-id="3c1fc-185">比方說，如果在執行階段頁面的標題會是"Untitled Page"，我們可能會想要自動更新，而 ASP.NET 網頁的檔案名稱相同的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-185">For example, if at runtime the page's title is "Untitled Page", we might want to have the title automatically updated to be the same as the ASP.NET page's filename.</span></span> <span data-ttu-id="3c1fc-186">好消息是，利用一小段的事前工作，就可以將自動指派的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-186">The good news is that with a little bit of upfront work it is possible to have the title automatically assigned.</span></span>

<span data-ttu-id="3c1fc-187">所有的 ASP.NET web pages 是衍生自`Page`類別中`System.Web.UI`命名空間。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-187">All ASP.NET web pages derive from the `Page` class in the `System.Web.UI` namespace.</span></span> <span data-ttu-id="3c1fc-188">`Page`類別定義 ASP.NET 網頁所需的最小功能，而且會公開基本的屬性，例如`IsPostBack`， `IsValid`， `Request`，和`Response`，還有其他更多。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-188">The `Page` class defines the minimal functionality needed by an ASP.NET page and exposes essential properties like `IsPostBack`, `IsValid`, `Request`, and `Response`, among many others.</span></span> <span data-ttu-id="3c1fc-189">通常，web 應用程式中的每一頁所需要的其他功能。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-189">Oftentimes, every page in a web application requires additional features or functionality.</span></span> <span data-ttu-id="3c1fc-190">提供這樣的常見方式是建立自訂的基底頁面類別。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-190">A common way of providing this is to create a custom base page class.</span></span> <span data-ttu-id="3c1fc-191">自訂的基底頁面類別是的類別建立衍生自`Page`類別，並包含其他功能。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-191">A custom base page class is a class you create that derives from the `Page` class and includes additional functionality.</span></span> <span data-ttu-id="3c1fc-192">一旦建立此基底類別，您可以讓您從它衍生的 ASP.NET 頁面 (而非`Page`類別)，藉此供應項目至您的 ASP.NET 頁面的擴充的功能。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-192">Once this base class has been created, you can have your ASP.NET pages derive from it (rather than the `Page` class), thereby offering the extended functionality to your ASP.NET pages.</span></span>

<span data-ttu-id="3c1fc-193">在此步驟中，我們會建立一個基底的網頁，如果標題不否則已明確設定，就會自動設定 ASP.NET 網頁的檔名的頁面的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-193">In this step we create a base page that automatically sets the page's title to the ASP.NET page's filename if the title has not otherwise been explicitly set.</span></span> <span data-ttu-id="3c1fc-194">步驟 3 會尋找設定頁面的標題，根據站台對應。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-194">Step 3 looks at setting the page's title based on the site map.</span></span>

> [!NOTE]
> <span data-ttu-id="3c1fc-195">建立及使用自訂基底的頁面類別的徹底的檢查已超出本教學課程系列的範圍。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-195">A thorough examination of creating and using custom base page classes is beyond the scope of this tutorial series.</span></span> <span data-ttu-id="3c1fc-196">如需詳細資訊，請參閱[使用自訂的基底類別，您的 ASP.NET 網頁的程式碼後置類別](http://aspnet.4guysfromrolla.com/articles/041305-1.aspx)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-196">For more information, read [Using a Custom Base Class for Your ASP.NET Pages' Code-Behind Classes](http://aspnet.4guysfromrolla.com/articles/041305-1.aspx).</span></span>


### <a name="creating-the-base-page-class"></a><span data-ttu-id="3c1fc-197">建立 Page 基底類別</span><span class="sxs-lookup"><span data-stu-id="3c1fc-197">Creating the Base Page Class</span></span>

<span data-ttu-id="3c1fc-198">我們的第一個工作是建立基底的頁面類別，也就是該類別可擴充`Page`類別。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-198">Our first task is to create a base page class, which is a class that extends the `Page` class.</span></span> <span data-ttu-id="3c1fc-199">加上啟動`App_Code`至 [方案總管] 中的專案名稱上按一下滑鼠右鍵、 選擇加入 ASP.NET 資料夾，然後選取您的專案資料夾`App_Code`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-199">Start by adding an `App_Code` folder to your project by right-clicking on the project name in the Solution Explorer, choosing Add ASP.NET Folder, and then selecting `App_Code`.</span></span> <span data-ttu-id="3c1fc-200">接下來，以滑鼠右鍵按一下`App_Code`資料夾，並加入新類別，名為`BasePage.cs`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-200">Next, right-click on the `App_Code` folder and add a new class named `BasePage.cs`.</span></span> <span data-ttu-id="3c1fc-201">圖 4 顯示 方案總管，在後`App_Code`資料夾和`BasePage.cs`類別已新增。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-201">Figure 4 shows the Solution Explorer after the `App_Code` folder and `BasePage.cs` class have been added.</span></span>


![加入 App_Code 資料夾和名為 BasePage 類別](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image4.png)

<span data-ttu-id="3c1fc-203">**圖 04**： 新增`App_Code`資料夾和名為的類別 `BasePage`</span><span class="sxs-lookup"><span data-stu-id="3c1fc-203">**Figure 04**: Add an `App_Code` Folder and a Class Named `BasePage`</span></span>


> [!NOTE]
> <span data-ttu-id="3c1fc-204">Visual Studio 支援兩種專案管理模式： 網站專案和 Web 應用程式專案。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-204">Visual Studio supports two modes of project management: Web Site Projects and Web Application Projects.</span></span> <span data-ttu-id="3c1fc-205">`App_Code`資料夾設計來搭配網站專案模型。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-205">The `App_Code` folder is designed to be used with the Web Site Project model.</span></span> <span data-ttu-id="3c1fc-206">如果您使用 Web 應用程式專案模型，放`BasePage.cs`有別於資料夾中的類別`App_Code`，例如`Classes`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-206">If you are using the Web Application Project model, place the `BasePage.cs` class in a folder named something other than `App_Code`, such as `Classes`.</span></span> <span data-ttu-id="3c1fc-207">如需有關本主題的詳細資訊，請參閱[移轉至 Web 應用程式專案的網站專案](http://webproject.scottgu.com/CSharp/Migration2/Migration2.aspx)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-207">For more information on this topic, refer to [Migrating a Web Site Project to a Web Application Project](http://webproject.scottgu.com/CSharp/Migration2/Migration2.aspx).</span></span>


<span data-ttu-id="3c1fc-208">自訂的基底頁面做為 ASP.NET 網頁的程式碼後置類別的基底類別，因為它需要擴充`Page`類別。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-208">Because the custom base page serves as the base class for ASP.NET pages' code-behind classes, it needs to extend the `Page` class.</span></span>


[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample5.cs)]

<span data-ttu-id="3c1fc-209">每當 ASP.NET 網頁要求時便會繼續透過一連串的階段，已累積可要求轉譯成 HTML 的頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-209">Whenever an ASP.NET page is requested it proceeds through a series of stages, culminating in the requested page being rendered into HTML.</span></span> <span data-ttu-id="3c1fc-210">我們可以藉由覆寫到階段點選`Page`類別的`OnEvent`方法。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-210">We can tap into a stage by overriding the `Page` class's `OnEvent` method.</span></span> <span data-ttu-id="3c1fc-211">我們的基底 頁面中讓我們自動設定的標題，如果它尚未明確指定所`LoadComplete`階段 (其中，您可能已經猜到，就會發生之後`Load`階段)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-211">For our base page let's automatically set the title if it has not been explicitly specified by the `LoadComplete` stage (which, as you might have guessed, occurs after the `Load` stage).</span></span>

<span data-ttu-id="3c1fc-212">若要達成此目的，覆寫`OnLoadComplete`方法並輸入下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-212">To accomplish this, override the `OnLoadComplete` method and enter the following code:</span></span>


[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample6.cs)]

<span data-ttu-id="3c1fc-213">`OnLoadComplete`方法會判斷如果`Title`屬性具有尚未明確設定。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-213">The `OnLoadComplete` method starts by determining if the `Title` property has not yet been explicitly set.</span></span> <span data-ttu-id="3c1fc-214">如果`Title`屬性是`null`，空字串，或具有值"Untitled Page"，將它指派給要求的 ASP.NET 網頁的檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-214">If the `Title` property is `null`, an empty string, or has the value "Untitled Page", it is assigned to the filename of the requested ASP.NET page.</span></span> <span data-ttu-id="3c1fc-215">要求的 ASP.NET 頁面-的實體路徑`C:\MySites\Tutorial03\Login.aspx`，例如-就是可透過存取`Request.PhysicalPath`屬性。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-215">The physical path to the requested ASP.NET page - `C:\MySites\Tutorial03\Login.aspx`, for example - is accessible via the `Request.PhysicalPath` property.</span></span> <span data-ttu-id="3c1fc-216">`Path.GetFileNameWithoutExtension`取出 filename 而已，使用方法，而且這個檔案名稱接著會指派給`Page.Title`屬性。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-216">The `Path.GetFileNameWithoutExtension` method is used to pull out just the filename portion, and this filename is then assigned to the `Page.Title` property.</span></span>

> [!NOTE]
> <span data-ttu-id="3c1fc-217">歡迎您強化此邏輯，可改善的標題格式。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-217">I invite you to enhance this logic to improve the format of the title.</span></span> <span data-ttu-id="3c1fc-218">比方說，如果網頁的檔名為`Company-Products.aspx`，上述程式碼會產生的標題為 「 公司-產品 」，但在理想情況下會取代虛線加上空格，如 「 公司產品 」 所示。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-218">For example, if the page's filename is `Company-Products.aspx`, the above code will produce the title "Company-Products", but ideally the dash would be replaced with a space, as in "Company Products".</span></span> <span data-ttu-id="3c1fc-219">此外，請考慮變更大小寫時，新增空格。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-219">Also, consider adding a space whenever there's a case change.</span></span> <span data-ttu-id="3c1fc-220">也就是，請考慮將轉換的檔案名稱的程式碼加入`OurBusinessHours.aspx`標題的 「 我們營業時間 」。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-220">That is, consider adding code that transforms the filename `OurBusinessHours.aspx` to a title of "Our Business Hours".</span></span>


### <a name="having-the-content-pages-inherit-the-base-page-class"></a><span data-ttu-id="3c1fc-221">讓內容頁面繼承 Page 基底類別</span><span class="sxs-lookup"><span data-stu-id="3c1fc-221">Having the Content Pages Inherit the Base Page Class</span></span>

<span data-ttu-id="3c1fc-222">我們現在需要更新我們的網站，從自訂的基底頁面衍生中的 ASP.NET 網頁 (`BasePage`) 而不是`Page`類別。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-222">We now need to update the ASP.NET pages in our site to derive from the custom base page (`BasePage`) instead of the `Page` class.</span></span> <span data-ttu-id="3c1fc-223">若要完成此移至每個程式碼後置類別，並從類別宣告變更：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-223">To accomplish this go to each code-behind class and change the class declaration from:</span></span>


[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample7.cs)]

<span data-ttu-id="3c1fc-224">收件者:</span><span class="sxs-lookup"><span data-stu-id="3c1fc-224">To:</span></span>


[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample8.cs)]

<span data-ttu-id="3c1fc-225">完成後，請瀏覽的網站，透過瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-225">After doing so, visit the site through a browser.</span></span> <span data-ttu-id="3c1fc-226">如果您瀏覽的網頁，其標題會明確設定，例如`Default.aspx`或`About.aspx`，會使用明確指定的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-226">If you visit a page whose title is explicitly set, such as `Default.aspx` or `About.aspx`, the explicitly specified title is used.</span></span> <span data-ttu-id="3c1fc-227">如果，不過，您瀏覽的網頁，沒有預設值 ("Untitled Page") 變更其標題，基底的頁面類別就會設定至頁面的檔案名稱的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-227">If, however, you visit a page whose title has not been changed from the default ("Untitled Page"), the base page class sets the title to the page's filename.</span></span>

<span data-ttu-id="3c1fc-228">[圖 5] 顯示`MultipleContentPlaceHolders.aspx`頁面上透過瀏覽器檢視時。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-228">Figure 5 shows the `MultipleContentPlaceHolders.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="3c1fc-229">請注意，標題是精確 （較不擴充功能），頁面的檔案名稱"MultipleContentPlaceHolders 」。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-229">Note that the title is precisely the page's filename (less the extension), "MultipleContentPlaceHolders".</span></span>


<span data-ttu-id="3c1fc-230">[![如果未明確指定標題，網頁的檔案名稱是自動使用](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image6.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-230">[![If a Title is Not Explicitly Specified, the Page's Filename is Automatically Used](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image6.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image5.png)</span></span>

<span data-ttu-id="3c1fc-231">**圖 05**： 如果未明確指定標題，網頁的檔案名稱是自動使用 ([按一下以檢視完整大小的影像](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="3c1fc-231">**Figure 05**: If a Title is Not Explicitly Specified, the Page's Filename is Automatically Used  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image7.png))</span></span>


## <a name="step-3-basing-the-page-title-on-the-site-map"></a><span data-ttu-id="3c1fc-232">步驟 3： 基礎網站導覽中的頁面標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-232">Step 3: Basing the Page Title on the Site Map</span></span>

<span data-ttu-id="3c1fc-233">ASP.NET 提供穩固的站台對應架構，可讓網頁程式開發人員定義外部資源 （例如 XML 檔案或資料庫資料表） 以及 Web 控制項來顯示資訊 （例如 SiteMapPath，網站導覽中的階層式網站導覽功能表和 TreeView 控制項）。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-233">ASP.NET offers a robust site map framework that enables page developers to define a hierarchical site map in an external resource (such as an XML file or database table) along with Web controls for displaying information about the site map (such as the SiteMapPath, Menu, and TreeView controls).</span></span>

<span data-ttu-id="3c1fc-234">網站導覽結構也可以從 ASP.NET 頁面的程式碼後置類別存取以程式設計的方式。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-234">The site map structure can also be accessed programmatically from an ASP.NET page's code-behind class.</span></span> <span data-ttu-id="3c1fc-235">以這種方式中，我們會自動可以網站導覽中，以設定頁面的標題，其對應的節點的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-235">In this manner we can automatically set a page's title to the title of its corresponding node in the site map.</span></span> <span data-ttu-id="3c1fc-236">讓我們來增強`BasePage`，讓它提供這項功能，在步驟 2 中建立的類別。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-236">Let's enhance the `BasePage` class created in Step 2 so that it offers this functionality.</span></span> <span data-ttu-id="3c1fc-237">但是，我們必須先建立我們的網站的站台對應。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-237">But first we need to create a site map for our site.</span></span>

> [!NOTE]
> <span data-ttu-id="3c1fc-238">本教學課程假設讀者已熟悉使用 ASP。NET 的網站對應功能。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-238">This tutorial assumes the reader already is familiar with ASP.NET's site map features.</span></span> <span data-ttu-id="3c1fc-239">如需有關使用站台對應的詳細資訊，請參閱我的多部分的文章系列，[檢查 ASP。NET 的網站瀏覽](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-239">For more information on using the site map, consult my multi-part article series, [Examining ASP.NET's Site Navigation](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx).</span></span>


### <a name="creating-the-site-map"></a><span data-ttu-id="3c1fc-240">建立站台對應</span><span class="sxs-lookup"><span data-stu-id="3c1fc-240">Creating the Site Map</span></span>

<span data-ttu-id="3c1fc-241">站台對應系統建置之上[提供者模型](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)，其中以減少站台對應 API 從序列化網站地圖資訊記憶體和持續性存放區之間的邏輯。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-241">The site map system is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which decouples the site map API from the logic that serializes site map information between memory and a persistent store.</span></span> <span data-ttu-id="3c1fc-242">.NET Framework 隨附[`XmlSiteMapProvider`類別](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx)，這是預設網站導覽提供者。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-242">The .NET Framework ships with the [`XmlSiteMapProvider` class](https://msdn.microsoft.com/library/system.web.xmlsitemapprovider.aspx), which is the default site map provider.</span></span> <span data-ttu-id="3c1fc-243">正如其名， `XmlSiteMapProvider` XML 檔案做為其站台對應存放區。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-243">As its name implies, `XmlSiteMapProvider` uses an XML file as its site map store.</span></span> <span data-ttu-id="3c1fc-244">讓我們使用此提供者用於定義我們的站台對應。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-244">Let's use this provider for defining our site map.</span></span>

<span data-ttu-id="3c1fc-245">建立名為網站的根資料夾中的網站地圖檔案著手`Web.sitemap`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-245">Start by creating a site map file in the website's root folder named `Web.sitemap`.</span></span> <span data-ttu-id="3c1fc-246">若要這麼做，以滑鼠右鍵按一下方案總管] 中的網站名稱、 選擇 [加入新項目並選取站台對應範本。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-246">To accomplish this, right-click on the website name in Solution Explorer, choose Add New Item, and select the Site Map template.</span></span> <span data-ttu-id="3c1fc-247">請確定檔案會命名為`Web.sitemap`並按一下 [新增]。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-247">Ensure that the file is named `Web.sitemap` and click Add.</span></span>


<span data-ttu-id="3c1fc-248">[![新增名為網站的根資料夾的 Web.sitemap 檔案](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image9.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-248">[![Add a File Named Web.sitemap to the Website's Root Folder](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image9.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image8.png)</span></span>

<span data-ttu-id="3c1fc-249">**圖 06**： 將檔案命名為`Web.sitemap`網站的根資料夾 ([按一下以檢視完整大小的影像](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="3c1fc-249">**Figure 06**: Add a File Named `Web.sitemap` to the Website's Root Folder  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image10.png))</span></span>


<span data-ttu-id="3c1fc-250">新增下列 XML 來`Web.sitemap`檔案：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-250">Add the following XML to the `Web.sitemap` file:</span></span>


[!code-xml[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample9.xml)]

<span data-ttu-id="3c1fc-251">這個 XML 會定義階層式網站導覽結構 [圖 7] 所示。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-251">This XML defines the hierarchical site map structure shown in Figure 7.</span></span>


![站台對應是目前包含的三個網站導覽節點](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image11.png)

<span data-ttu-id="3c1fc-253">**圖 07**: 站台地圖是目前包含的三個網站導覽節點</span><span class="sxs-lookup"><span data-stu-id="3c1fc-253">**Figure 07**: The Site Map is Currently Composed of Three Site Map Nodes</span></span>


<span data-ttu-id="3c1fc-254">當我們加入新的範例，我們將在未來的教學課程中更新的網站導覽結構。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-254">We will update the site map structure in future tutorials as we add new examples.</span></span>

### <a name="updating-the-master-page-to-include-navigation-web-controls"></a><span data-ttu-id="3c1fc-255">更新包括瀏覽 Web 控制項的主版頁面</span><span class="sxs-lookup"><span data-stu-id="3c1fc-255">Updating the Master Page to Include Navigation Web Controls</span></span>

<span data-ttu-id="3c1fc-256">既然我們已經定義站台對應，讓我們更新包括瀏覽 Web 控制項的主版頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-256">Now that we have a site map defined, let's update the master page to include navigation Web controls.</span></span> <span data-ttu-id="3c1fc-257">具體來說，讓我們新增的 ListView 控制項中呈現在網站導覽中定義的每個節點的清單項目使用的未排序的清單的 [課程] 區段的左資料行。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-257">Specifically, let's add a ListView control to the left column in the Lessons section that renders an unordered list with a list item for each node defined in the site map.</span></span>

> [!NOTE]
> <span data-ttu-id="3c1fc-258">ListView 控制項是 asp.net 3.5 版的新功能。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-258">The ListView control is new to ASP.NET version 3.5.</span></span> <span data-ttu-id="3c1fc-259">如果您使用舊版 ASP.NET，請改為使用重複項控制項。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-259">If you are using a prior version of ASP.NET, use the Repeater control instead.</span></span> <span data-ttu-id="3c1fc-260">如需有關在 ListView 控制項的詳細資訊，請參閱[使用 ASP.NET 3.5 的 ListView 和 DataPager 控制項](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-260">For more information on the ListView control, see [Using ASP.NET 3.5's ListView and DataPager Controls](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx).</span></span>


<span data-ttu-id="3c1fc-261">啟動 [課程] 區段中移除現有的未排序的清單標記。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-261">Start by removing the existing unordered list markup from the Lessons section.</span></span> <span data-ttu-id="3c1fc-262">接下來，將 ListView 控制項從 [工具箱] 拖放下方課程標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-262">Next, drag a ListView control from the Toolbox and drop it beneath the Lessons heading.</span></span> <span data-ttu-id="3c1fc-263">ListView 位於 [工具箱] 中的檢視控制項旁的 [資料] 區段中： GridView、 DetailsView 和 FormView。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-263">The ListView is located in the Data section of the Toolbox, alongside the other view controls: the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="3c1fc-264">設定 ListView 的 ID 屬性為`LessonsList`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-264">Set the ListView's ID property to `LessonsList`.</span></span>

<span data-ttu-id="3c1fc-265">從資料來源組態精靈 中，選擇要繫結至名為的新 SiteMapDataSource 控制項的 ListView `LessonsDataSource`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-265">From the Data Source Configuration Wizard choose to bind the ListView to a new SiteMapDataSource control named `LessonsDataSource`.</span></span> <span data-ttu-id="3c1fc-266">SiteMapDataSource 控制項從站台對應系統傳回階層式結構。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-266">The SiteMapDataSource control returns the hierarchical structure from the site map system.</span></span>


<span data-ttu-id="3c1fc-267">[![將 SiteMapDataSource 控制項繫結至 LessonsList ListView 控制項](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image13.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-267">[![Bind a SiteMapDataSource Control to the LessonsList ListView Control](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image13.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image12.png)</span></span>

<span data-ttu-id="3c1fc-268">**圖 08**： 繫結至 SiteMapDataSource 控制項`LessonsList`ListView 控制項 ([按一下以檢視完整大小的影像](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="3c1fc-268">**Figure 08**: Bind a SiteMapDataSource Control to the `LessonsList` ListView Control  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image14.png))</span></span>


<span data-ttu-id="3c1fc-269">建立之後 SiteMapDataSource 控制項，我們需要定義 ListView 的範本，讓它呈現 SiteMapDataSource 控制項所傳回的每個節點的清單項目使用的未排序的清單。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-269">After creating the SiteMapDataSource control, we need to define the ListView's templates so that it renders an unordered list with a list item for each node returned by the SiteMapDataSource control.</span></span> <span data-ttu-id="3c1fc-270">這可以使用下列的範本標記來完成：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-270">This can be accomplished using the following template markup:</span></span>


[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample10.aspx)]

<span data-ttu-id="3c1fc-271">`LayoutTemplate`產生的未排序清單的標記 (`<ul>...</ul>`) 時`ItemTemplate`呈現為清單項目，SiteMapDataSource 所傳回的每個項目 (`<li>`)，其中包含特定的課程的連結。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-271">The `LayoutTemplate` generates the markup for an unordered list (`<ul>...</ul>`) while the `ItemTemplate` renders each item returned by the SiteMapDataSource as a list item (`<li>`) that contains a link to the particular lesson.</span></span>

<span data-ttu-id="3c1fc-272">之後設定 ListView 的範本，請瀏覽網站。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-272">After configuring the ListView's templates, visit the website.</span></span> <span data-ttu-id="3c1fc-273">如 [圖 9] 所示，[課程] 區段會包含單一項目符號項目，首頁。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-273">As Figure 9 shows, the Lessons section contains a single bulleted item, Home.</span></span> <span data-ttu-id="3c1fc-274">其中是關於 」 和 「 使用多個 ContentPlaceHolder 控制項課程？</span><span class="sxs-lookup"><span data-stu-id="3c1fc-274">Where are the About and Using Multiple ContentPlaceHolder Controls lessons?</span></span> <span data-ttu-id="3c1fc-275">SiteMapDataSource 設計為傳回一組階層式資料，但 ListView 控制項只能顯示單一階層的層級。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-275">The SiteMapDataSource is designed to return a hierarchical set of data, but the ListView control can only display a single level of the hierarchy.</span></span> <span data-ttu-id="3c1fc-276">因此，會顯示網站導覽節點，SiteMapDataSource 所傳回的第一個層級。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-276">Consequently, only the first level of site map nodes returned by the SiteMapDataSource is displayed.</span></span>


<span data-ttu-id="3c1fc-277">[![[課程] 區段包含單一的清單項目](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image16.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-277">[![The Lessons Section Contains a Single List Item](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image16.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image15.png)</span></span>

<span data-ttu-id="3c1fc-278">**圖 09**: [課程] 區段包含單一的清單項目 ([按一下以檢視完整大小的影像](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="3c1fc-278">**Figure 09**: The Lessons Section Contains a Single List Item  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image17.png))</span></span>


<span data-ttu-id="3c1fc-279">若要顯示多個層級能以巢狀內的多個 Listview `ItemTemplate`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-279">To display multiple levels we could nest multiple ListViews within the `ItemTemplate`.</span></span> <span data-ttu-id="3c1fc-280">這項技術有密切關係中[*主版頁面與網站導覽*教學課程](../../data-access/introduction/master-pages-and-site-navigation-cs.md)的我[處理資料的教學課程系列](../../data-access/index.md)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-280">This technique was examined in the [*Master Pages and Site Navigation* tutorial](../../data-access/introduction/master-pages-and-site-navigation-cs.md) of my [Working with Data tutorial series](../../data-access/index.md).</span></span> <span data-ttu-id="3c1fc-281">不過，本教學課程系列我們的網站對應中會包含只是兩個層級： 首頁 （最上層）;與每個課程做為子系的首頁。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-281">However, for this tutorial series our site map will contain just a two levels: Home (the top level); and each lesson as a child of Home.</span></span> <span data-ttu-id="3c1fc-282">製作巢狀的 ListView，我們可以改用指示不會返回開始節點設定 SiteMapDataSource 及其[`ShowStartingNode`屬性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemapdatasource.showstartingnode.aspx)至`false`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-282">Rather than crafting a nested ListView, we can instead instruct the SiteMapDataSource to not return the starting node by setting its [`ShowStartingNode` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sitemapdatasource.showstartingnode.aspx) to `false`.</span></span> <span data-ttu-id="3c1fc-283">實質效果是，SiteMapDataSource 一開始會傳回第二層的網站導覽節點。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-283">The net effect is that the SiteMapDataSource starts by returning the second tier of site map nodes.</span></span>

<span data-ttu-id="3c1fc-284">透過這項變更，ListView 會顯示關於項目符號項目，以及使用多個 ContentPlaceHolder 控制項經驗，但省略的項目符號項目家用。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-284">With this change, the ListView displays bullet items for the About and Using Multiple ContentPlaceHolder Controls lessons, but omits a bullet item for Home.</span></span> <span data-ttu-id="3c1fc-285">若要解決此問題，我們可以明確加入的項目符號項目中的家用`LayoutTemplate`:</span><span class="sxs-lookup"><span data-stu-id="3c1fc-285">To remedy this, we can explicitly add a bullet item for Home in the `LayoutTemplate`:</span></span>


[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample11.aspx)]

<span data-ttu-id="3c1fc-286">藉由設定 略過開始節點 SiteMapDataSource 並明確地將首頁的項目符號項目，課程 區段現在會顯示預期的輸出。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-286">By configuring the SiteMapDataSource to omit the starting node and explicitly adding a Home bullet item, the Lessons section now displays the intended output.</span></span>


<span data-ttu-id="3c1fc-287">[![[課程] 區段包含的項目符號項目首頁和每個子節點](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image19.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-287">[![The Lessons Section Contains a Bullet Item for Home and Each Child Node](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image19.png)](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image18.png)</span></span>

<span data-ttu-id="3c1fc-288">**圖 10**: [課程] 區段的首頁和每一個子節點包含項目符號項目 ([按一下以檢視完整大小的影像](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="3c1fc-288">**Figure 10**: The Lessons Section Contains a Bullet Item for Home and Each Child Node  ([Click to view full-size image](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image20.png))</span></span>


### <a name="setting-the-title-based-on-the-site-map"></a><span data-ttu-id="3c1fc-289">設定標題根據站台對應</span><span class="sxs-lookup"><span data-stu-id="3c1fc-289">Setting the Title Based on the Site Map</span></span>

<span data-ttu-id="3c1fc-290">使用網站中的對應位置，我們可以更新我們`BasePage`類別，以使用站台對應所指定的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-290">With the site map in place, we can update our `BasePage` class to use the title specified in the site map.</span></span> <span data-ttu-id="3c1fc-291">如同我們在步驟 2 中，我們只想要使用網站導覽節點的標題，如果頁面的標題尚未明確設定由頁面開發人員。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-291">As we did in Step 2, we only want to use the site map node's title if the page's title has not been explicitly set by the page developer.</span></span> <span data-ttu-id="3c1fc-292">如果所要求的頁面並沒有明確設定頁面標題，然後中找不到站台對應，然後我們將改為使用要求的頁面檔名 （較不擴充功能），如同我們在步驟 2。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-292">If the page being requested does not have an explicitly set page title and is not found in the site map, then we'll fall back to using the requested page's filename (less the extension), as we did in Step 2.</span></span> <span data-ttu-id="3c1fc-293">[圖 11] 說明此決策程序。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-293">Figure 11 illustrates this decision process.</span></span>


![如果沒有明確設定頁面標題，會使用對應的網站導覽節點的標題](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image21.png)

<span data-ttu-id="3c1fc-295">**圖 11**： 如果沒有明確設定頁面標題，會使用對應的網站導覽節點的標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-295">**Figure 11**: In the Absence of an Explicitly Set Page Title, the Corresponding Site Map Node's Title is Used</span></span>


<span data-ttu-id="3c1fc-296">更新`BasePage`類別的`OnLoadComplete`方法以包含下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-296">Update the `BasePage` class's `OnLoadComplete` method to include the following code:</span></span>


[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample12.cs)]

<span data-ttu-id="3c1fc-297">同樣地，`OnLoadComplete`方法會判斷是否已明確設定頁面的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-297">As before, the `OnLoadComplete` method starts by determining whether the page's title has been explicitly set.</span></span> <span data-ttu-id="3c1fc-298">如果`Page.Title`已`null`、 空字串，或被指派"Untitled Page"的值，然後將程式碼會自動將值指派給`Page.Title`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-298">If `Page.Title` is `null`, an empty string, or is assigned the value "Untitled Page" then the code automatically assigns a value to `Page.Title`.</span></span>

<span data-ttu-id="3c1fc-299">若要判斷使用的標題，程式碼會開始藉由參考[`SiteMap`類別](https://msdn.microsoft.com/library/system.web.sitemap.aspx)的[`CurrentNode`屬性](https://msdn.microsoft.com/library/system.web.sitemap.currentnode.aspx)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-299">To determine the title to use, the code starts by referencing the [`SiteMap` class](https://msdn.microsoft.com/library/system.web.sitemap.aspx)'s [`CurrentNode` property](https://msdn.microsoft.com/library/system.web.sitemap.currentnode.aspx).</span></span> <span data-ttu-id="3c1fc-300">`CurrentNode` 會傳回[ `SiteMapNode` ](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx)對應至目前要求的網頁的網站導覽中的執行個體。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-300">`CurrentNode` returns the [`SiteMapNode`](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) instance in the site map that corresponds to the currently requested page.</span></span> <span data-ttu-id="3c1fc-301">假設目前要求的頁面中站台對應中找到`SiteMapNode`的`Title`屬性指派給頁面的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-301">Assuming the currently requested page is found within the site map, the `SiteMapNode`'s `Title` property is assigned to the page's title.</span></span> <span data-ttu-id="3c1fc-302">如果目前要求的頁面不是在站台模式中，`CurrentNode`傳回`null`和要求的頁面檔名做為標題 （如已在步驟 2 中所執行）。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-302">If the currently requested page is not in the site map, `CurrentNode` returns `null` and the requested page's filename is used as the title (as was done in Step 2).</span></span>

<span data-ttu-id="3c1fc-303">[圖 12] 顯示`MultipleContentPlaceHolders.aspx`頁面上透過瀏覽器檢視時。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-303">Figure 12 shows the `MultipleContentPlaceHolders.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="3c1fc-304">因為沒有明確設定此頁面的標題，會改為使用其對應的網站導覽節點的標題。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-304">Because this page's title is not explicitly set, its corresponding site map node's title is used instead.</span></span>


![從網站導覽提取 MultipleContentPlaceHolders.aspx 頁面的標題](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/_static/image22.png)

<span data-ttu-id="3c1fc-306">**圖 12**:`MultipleContentPlaceHolders.aspx`頁面的標題取自網站導覽</span><span class="sxs-lookup"><span data-stu-id="3c1fc-306">**Figure 12**: The `MultipleContentPlaceHolders.aspx` Page's Title is Pulled from the Site Map</span></span>


## <a name="step-4-adding-other-page-specific-markup-to-theheadsection"></a><span data-ttu-id="3c1fc-307">步驟 4： 加入至其他頁面特定標記`<head>`區段</span><span class="sxs-lookup"><span data-stu-id="3c1fc-307">Step 4: Adding Other Page-Specific Markup to the`<head>`Section</span></span>

<span data-ttu-id="3c1fc-308">步驟 1、 2 和 3 探討了自訂`<title>`頁面的頁面為基礎的項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-308">Steps 1, 2, and 3 looked at customizing the `<title>` element on a page-by-page basis.</span></span> <span data-ttu-id="3c1fc-309">除了`<title>`，則`<head>`區段可能包含`<meta>`項目和`<link>`項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-309">In addition to `<title>`, the `<head>` section may contain `<meta>` elements and `<link>` elements.</span></span> <span data-ttu-id="3c1fc-310">如稍早在本教學課程中所述`Site.master`的`<head>`一節包含`<link>`項目`Styles.css`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-310">As noted earlier in this tutorial, `Site.master`'s `<head>` section includes a `<link>` element to `Styles.css`.</span></span> <span data-ttu-id="3c1fc-311">因為這`<link>`項目會定義內的主版頁面、 它包含在`<head>`的所有內容頁面的區段。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-311">Because this `<link>` element is defined within the master page, it is included in the `<head>` section for all content pages.</span></span> <span data-ttu-id="3c1fc-312">但我們輕鬆地將`<meta>`和`<link>`頁面的頁面為基礎的項目嗎？</span><span class="sxs-lookup"><span data-stu-id="3c1fc-312">But how do we go about adding `<meta>` and `<link>` elements on a page-by-page basis?</span></span>

<span data-ttu-id="3c1fc-313">最簡單的方式，將頁面特定內容`<head>`區段是藉由建立 ContentPlaceHolder 控制項中的主版頁面。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-313">The easiest way to add page-specific content to the `<head>` section is by creating a ContentPlaceHolder control in the master page.</span></span> <span data-ttu-id="3c1fc-314">我們已經有這類 ContentPlaceHolder (名為`head`)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-314">We already have such a ContentPlaceHolder (named `head`).</span></span> <span data-ttu-id="3c1fc-315">因此，若要新增自訂`<head>`標記中，建立對應內容頁面中的控制項，並將標記放至該處。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-315">Therefore, to add custom `<head>` markup, create a corresponding Content control in the page and place the markup there.</span></span>

<span data-ttu-id="3c1fc-316">為了說明新增自訂`<head>`標記頁面，請包含`<meta>`到我們的內容頁面的目前集合的 description 項目。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-316">To illustrate adding custom `<head>` markup to a page, let's include a `<meta>` description element to our current set of content pages.</span></span> <span data-ttu-id="3c1fc-317">`<meta>` Description 項目提供網頁的簡短說明; 顯示搜尋結果時，大部分的搜尋引擎會納入某種形式的這項資訊。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-317">The `<meta>` description element provides a brief description about the web page; most search engines incorporate this information in some form when displaying search results.</span></span>

<span data-ttu-id="3c1fc-318">A `<meta>` description 項目具有下列格式：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-318">A `<meta>` description element has the following form:</span></span>


[!code-html[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample13.html)]

<span data-ttu-id="3c1fc-319">若要將此標記新增至內容頁面中，加入內容控制項對應至主版頁面的標頭 ContentPlaceHolder 上述的文字。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-319">To add this markup to a content page, add the above text to the Content control that maps to the master page's head ContentPlaceHolder.</span></span> <span data-ttu-id="3c1fc-320">例如，若要定義`<meta>`描述項目`Default.aspx`，加入下列標記：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-320">For example, to define a `<meta>` description element for `Default.aspx`, add the following markup:</span></span>


[!code-aspx[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample14.aspx)]

<span data-ttu-id="3c1fc-321">因為 head ContentPlaceHolder 不在 HTML 頁面的主體內，新增至內容控制項的標記不會顯示在 [設計] 檢視。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-321">Because the head ContentPlaceHolder is not within the HTML page's body, the markup added to the Content control is not displayed in the Design view.</span></span> <span data-ttu-id="3c1fc-322">若要查看`<meta>`描述項目，請造訪`Default.aspx`透過瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-322">To see the `<meta>` description element visit `Default.aspx` through a browser.</span></span> <span data-ttu-id="3c1fc-323">在頁面載入之後，檢視原始檔，並注意`<head>`區段包含內容控制項中所指定的標記。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-323">After the page has been loaded, view the source and note that the `<head>` section includes the markup specified in the Content control.</span></span>

<span data-ttu-id="3c1fc-324">請花一點時間加入`<meta>`描述項目`About.aspx`， `MultipleContentPlaceHolders.aspx`，和`Login.aspx`。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-324">Take a moment to add `<meta>` description elements to `About.aspx`, `MultipleContentPlaceHolders.aspx`, and `Login.aspx`.</span></span>

### <a name="programmatically-adding-markup-to-theheadregion"></a><span data-ttu-id="3c1fc-325">以程式設計方式將標記`<head>`區域</span><span class="sxs-lookup"><span data-stu-id="3c1fc-325">Programmatically Adding Markup to the`<head>`Region</span></span>

<span data-ttu-id="3c1fc-326">ContentPlaceHolder 的標頭可讓我們以宣告方式將自訂標記新增至主版頁面的`<head>`區域。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-326">The head ContentPlaceHolder allows us to declaratively add custom markup to the master page's `<head>` region.</span></span> <span data-ttu-id="3c1fc-327">自訂標記可能也會以程式設計方式加入。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-327">Custom markup may also be added programmatically.</span></span> <span data-ttu-id="3c1fc-328">請記得，`Page`類別的`Header`屬性會傳回`HtmlHead`主版頁面中定義的執行個體 ( `<head runat="server">`)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-328">Recall that the `Page` class's `Header` property returns the `HtmlHead` instance defined in the master page (the `<head runat="server">`).</span></span>

<span data-ttu-id="3c1fc-329">能夠以程式設計方式將內容加入至`<head>`區域時，要加入的內容是動態的。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-329">Being able to programmatically add content to the `<head>` region is useful when the content to add is dynamic.</span></span> <span data-ttu-id="3c1fc-330">可能是它根據使用者瀏覽頁面;也許它是從資料庫提取。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-330">Perhaps it's based on the user visiting the page; maybe it's being pulled from a database.</span></span> <span data-ttu-id="3c1fc-331">不論原因，您可以將內容加入至`HtmlHead`將控制項加入至其控制項集合就像這樣：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-331">Regardless of the reason, you can add content to the `HtmlHead` by adding controls to its Controls collection like so:</span></span>


[!code-csharp[Main](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs/samples/sample15.cs)]

<span data-ttu-id="3c1fc-332">上述程式碼會新增`<meta>`keywords 項目至`<head>`提供以逗號分隔的關鍵字清單，描述頁面的區域。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-332">The above code adds the `<meta>` keywords element to the `<head>` region, which provides a comma-delimited list of keywords that describe the page.</span></span> <span data-ttu-id="3c1fc-333">請注意，新增`<meta>`您所建立的標記[ `HtmlMeta` ](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlmeta.aspx)執行個體、 將其`Name`並`Content`屬性，然後將它新增到`Header`的`Controls`集合。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-333">Note that to add a `<meta>` tag you create an [`HtmlMeta`](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmlmeta.aspx) instance, set its `Name` and `Content` properties, and then add it to the `Header`'s `Controls` collection.</span></span> <span data-ttu-id="3c1fc-334">同樣地，若要以程式設計方式新增`<link>`項目，建立[ `HtmlLink` ](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmllink.aspx)物件，設定其屬性，然後再將它加入`Header`的`Controls`集合。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-334">Similarly, to programmatically add a `<link>` element, create an [`HtmlLink`](https://msdn.microsoft.com/library/system.web.ui.htmlcontrols.htmllink.aspx) object, set its properties, and then add it to the `Header`'s `Controls` collection.</span></span>

> [!NOTE]
> <span data-ttu-id="3c1fc-335">若要新增任意的標記，建立[ `LiteralControl` ](https://msdn.microsoft.com/library/system.web.ui.literalcontrol.aspx)執行個體、 將其`Text`屬性，然後將它新增到`Header`的`Controls`集合。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-335">To add arbitrary markup, create a [`LiteralControl`](https://msdn.microsoft.com/library/system.web.ui.literalcontrol.aspx) instance, set its `Text` property, and then add it to the `Header`'s `Controls` collection.</span></span>


## <a name="summary"></a><span data-ttu-id="3c1fc-336">總結</span><span class="sxs-lookup"><span data-stu-id="3c1fc-336">Summary</span></span>

<span data-ttu-id="3c1fc-337">在本教學課程中我們探討了以各種方式將`<head>`頁面的頁面為基礎的區域標記。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-337">In this tutorial we looked at a variety of ways to add `<head>` region markup on a page-by-page basis.</span></span> <span data-ttu-id="3c1fc-338">主版頁面應該包含`HtmlHead`執行個體 (`<head runat="server">`) 與 ContentPlaceHolder。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-338">A master page should include an `HtmlHead` instance (`<head runat="server">`) with a ContentPlaceHolder.</span></span> <span data-ttu-id="3c1fc-339">`HtmlHead`執行個體允許以程式設計方式存取的內容頁面`<head>`區域，以宣告方式或以程式設計方式設定的頁面標題; ContentPlaceHolder 控制項可讓自訂標記新增至`<head>`以宣告方式是透過內容控制項的一節。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-339">The `HtmlHead` instance allows content pages to programmatically access the `<head>` region and to declaratively and programmatically set the page's title; the ContentPlaceHolder control enables custom markup to be added to the `<head>` section declaratively through a Content control.</span></span>

<span data-ttu-id="3c1fc-340">快樂地寫程式 ！</span><span class="sxs-lookup"><span data-stu-id="3c1fc-340">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="3c1fc-341">進一步閱讀</span><span class="sxs-lookup"><span data-stu-id="3c1fc-341">Further Reading</span></span>

<span data-ttu-id="3c1fc-342">如需有關在本教學課程所討論的主題的詳細資訊，請參閱下列資源：</span><span class="sxs-lookup"><span data-stu-id="3c1fc-342">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="3c1fc-343">以動態方式設定在 ASP.NET 中的 頁面的標題</span><span class="sxs-lookup"><span data-stu-id="3c1fc-343">Dynamically Setting the Page's Title in ASP.NET</span></span>](http://aspnet.4guysfromrolla.com/articles/051006-1.aspx)
- [<span data-ttu-id="3c1fc-344">正在檢查 ASP。NET 的網站巡覽</span><span class="sxs-lookup"><span data-stu-id="3c1fc-344">Examining ASP.NET's Site Navigation</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)
- [<span data-ttu-id="3c1fc-345">如何使用 HTML 中繼標籤</span><span class="sxs-lookup"><span data-stu-id="3c1fc-345">How To Use HTML Meta Tags</span></span>](http://searchenginewatch.com/showPage.html?page=2167931)
- [<span data-ttu-id="3c1fc-346">在 ASP.NET 中的主版頁面</span><span class="sxs-lookup"><span data-stu-id="3c1fc-346">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/articles/419.aspx)
- [<span data-ttu-id="3c1fc-347">使用 ASP.NET 3.5 的 ListView 和 DataPager 控制項</span><span class="sxs-lookup"><span data-stu-id="3c1fc-347">Using ASP.NET 3.5's ListView and DataPager Controls</span></span>](http://aspnet.4guysfromrolla.com/articles/122607-1.aspx)
- [<span data-ttu-id="3c1fc-348">使用自訂的基底類別的 ASP.NET 頁面的程式碼後置類別</span><span class="sxs-lookup"><span data-stu-id="3c1fc-348">Using a Custom Base Class for Your ASP.NET Pages' Code-Behind Classes</span></span>](http://aspnet.4guysfromrolla.com/articles/041305-1.aspx)

### <a name="about-the-author"></a><span data-ttu-id="3c1fc-349">關於作者</span><span class="sxs-lookup"><span data-stu-id="3c1fc-349">About the Author</span></span>

<span data-ttu-id="3c1fc-350">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，作者的多個 ASP 本書籍，他是 4GuysFromRolla.com 的創辦人，一直從事 Microsoft Web 技術自 1998 年。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-350">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="3c1fc-351">Scott 會擔任獨立的顧問、 培訓講師和作家。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-351">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="3c1fc-352">他最新的著作是[ *Sams 教導您自己 ASP.NET 3.5 24 小時內*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-352">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="3c1fc-353">Scott 要聯絡[ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com)或透過他的部落格[ http://ScottOnWriting.NET ](http://scottonwriting.net/)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-353">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="3c1fc-354">特別感謝</span><span class="sxs-lookup"><span data-stu-id="3c1fc-354">Special Thanks To</span></span>

<span data-ttu-id="3c1fc-355">本教學課程系列是由許多實用的檢閱者檢閱。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-355">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="3c1fc-356">本教學課程中的潛在客戶檢閱者已 Zack Jones 和 Suchi Banerjee。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-356">Lead reviewers for this tutorial were Zack Jones and Suchi Banerjee.</span></span> <span data-ttu-id="3c1fc-357">有興趣檢閱我即將推出的 MSDN 文章嗎？</span><span class="sxs-lookup"><span data-stu-id="3c1fc-357">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="3c1fc-358">如果是這樣，psychic 在[ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com)。</span><span class="sxs-lookup"><span data-stu-id="3c1fc-358">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3c1fc-359">[上一頁](multiple-contentplaceholders-and-default-content-cs.md)
> [下一頁](urls-in-master-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="3c1fc-359">[Previous](multiple-contentplaceholders-and-default-content-cs.md)
[Next](urls-in-master-pages-cs.md)</span></span>
